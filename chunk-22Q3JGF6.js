import{a as ut,c as mt,d as pt}from"./chunk-A7A667GQ.js";import{$ as b,A as Xe,Aa as it,Ba as L,C as de,Ca as fe,D as Je,Da as nt,E as Qe,Ea as rt,F as Te,Fa as Le,Ga as N,Ha as M,I as d,Ia as A,J as y,Ja as ot,K as Fe,Ka as at,L as E,La as lt,Ma as st,N as _,Na as C,O as Ne,P as H,Q as ee,Qa as dt,R as p,S as Ze,T as c,U as i,V as t,W as l,Z as Oe,_ as Pe,_a as ct,a as D,aa as g,b as k,c as $e,ca as u,d as qe,e as T,ed as S,f as se,fa as ce,fd as w,g as ze,ga as ue,ha as me,ja as V,k as F,ka as pe,la as o,ma as v,na as x,pa as W,q as Ie,qa as $,r as Z,ra as q,s as ke,sa as Re,t as U,ta as et,u as Ke,ua as tt,v as R,x as f,y as h,ya as z,z as Ye,za as ge}from"./chunk-AUI7GS2T.js";var _t=(()=>{class r{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,a){this._renderer=e,this._elementRef=a}setProperty(e,a){this._renderer.setProperty(this._elementRef.nativeElement,e,a)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(a){return new(a||r)(E(Fe),E(Te))};static \u0275dir=H({type:r})}return r})(),Ot=(()=>{class r extends _t{static \u0275fac=(()=>{let e;return function(s){return(e||(e=Qe(r)))(s||r)}})();static \u0275dir=H({type:r,features:[ee]})}return r})(),Ct=new U("");var Pt={provide:Ct,useExisting:Ie(()=>X),multi:!0};function Rt(){let r=Le()?Le().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}var Lt=new U(""),X=(()=>{class r extends _t{_compositionMode;_composing=!1;constructor(e,a,s){super(e,a),this._compositionMode=s,this._compositionMode==null&&(this._compositionMode=!Rt())}writeValue(e){let a=e??"";this.setProperty("value",a)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(a){return new(a||r)(E(Fe),E(Te),E(Lt,8))};static \u0275dir=H({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(a,s){a&1&&g("input",function(O){return s._handleInput(O.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(O){return s._compositionEnd(O.target.value)})},standalone:!1,features:[Re([Pt]),ee]})}return r})();var jt=new U(""),Bt=new U("");function wt(r){return r!=null}function St(r){return Ze(r)?qe(r):r}function Et(r){let n={};return r.forEach(e=>{n=e!=null?D(D({},n),e):n}),Object.keys(n).length===0?null:n}function At(r,n){return n.map(e=>e(r))}function Gt(r){return!r.validate}function Dt(r){return r.map(n=>Gt(n)?n:e=>n.validate(e))}function Ut(r){if(!r)return null;let n=r.filter(wt);return n.length==0?null:function(e){return Et(At(e,n))}}function Mt(r){return r!=null?Ut(Dt(r)):null}function Ht(r){if(!r)return null;let n=r.filter(wt);return n.length==0?null:function(e){let a=At(e,n).map(St);return ze(a).pipe(se(Et))}}function Vt(r){return r!=null?Ht(Dt(r)):null}function gt(r,n){return r===null?[n]:Array.isArray(r)?[...r,n]:[r,n]}function Wt(r){return r._rawValidators}function $t(r){return r._rawAsyncValidators}function je(r){return r?Array.isArray(r)?r:[r]:[]}function ve(r,n){return Array.isArray(r)?r.includes(n):r===n}function ft(r,n){let e=je(n);return je(r).forEach(s=>{ve(e,s)||e.push(s)}),e}function ht(r,n){return je(n).filter(e=>!ve(r,e))}var be=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=Mt(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Vt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,e){return this.control?this.control.hasError(n,e):!1}getError(n,e){return this.control?this.control.getError(n,e):null}},Be=class extends be{name;get formDirective(){return null}get path(){return null}},oe=class extends be{_parent=null;name=null;valueAccessor=null},Ge=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},qt={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},On=k(D({},qt),{"[class.ng-submitted]":"isSubmitted"}),ye=(()=>{class r extends Ge{constructor(e){super(e)}static \u0275fac=function(a){return new(a||r)(E(oe,2))};static \u0275dir=H({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(a,s){a&2&&V("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},standalone:!1,features:[ee]})}return r})();var te="VALID",he="INVALID",K="PENDING",ie="DISABLED",j=class{},xe=class extends j{value;source;constructor(n,e){super(),this.value=n,this.source=e}},ne=class extends j{pristine;source;constructor(n,e){super(),this.pristine=n,this.source=e}},re=class extends j{touched;source;constructor(n,e){super(),this.touched=n,this.source=e}},Y=class extends j{status;source;constructor(n,e){super(),this.status=n,this.source=e}};var Ue=class extends j{source;constructor(n){super(),this.source=n}};function zt(r){return(_e(r)?r.validators:r)||null}function Kt(r){return Array.isArray(r)?Mt(r):r||null}function Yt(r,n){return(_e(n)?n.asyncValidators:r)||null}function Xt(r){return Array.isArray(r)?Vt(r):r||null}function _e(r){return r!=null&&!Array.isArray(r)&&typeof r=="object"}var He=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,e){this._assignValidators(n),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return L(this.statusReactive)}set status(n){L(()=>this.statusReactive.set(n))}_status=fe(()=>this.statusReactive());statusReactive=de(void 0);get valid(){return this.status===te}get invalid(){return this.status===he}get pending(){return this.status==K}get disabled(){return this.status===ie}get enabled(){return this.status!==ie}errors;get pristine(){return L(this.pristineReactive)}set pristine(n){L(()=>this.pristineReactive.set(n))}_pristine=fe(()=>this.pristineReactive());pristineReactive=de(!0);get dirty(){return!this.pristine}get touched(){return L(this.touchedReactive)}set touched(n){L(()=>this.touchedReactive.set(n))}_touched=fe(()=>this.touchedReactive());touchedReactive=de(!1);get untouched(){return!this.touched}_events=new $e;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(ft(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(ft(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(ht(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(ht(n,this._rawAsyncValidators))}hasValidator(n){return ve(this._rawValidators,n)}hasAsyncValidator(n){return ve(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let e=this.touched===!1;this.touched=!0;let a=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(k(D({},n),{sourceControl:a})),e&&n.emitEvent!==!1&&this._events.next(new re(!0,a))}markAllAsDirty(n={}){this.markAsDirty({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(n))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(n))}markAsUntouched(n={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let a=n.sourceControl??this;this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:a})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,a),e&&n.emitEvent!==!1&&this._events.next(new re(!1,a))}markAsDirty(n={}){let e=this.pristine===!0;this.pristine=!1;let a=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(k(D({},n),{sourceControl:a})),e&&n.emitEvent!==!1&&this._events.next(new ne(!1,a))}markAsPristine(n={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let a=n.sourceControl??this;this._forEachChild(s=>{s.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,a),e&&n.emitEvent!==!1&&this._events.next(new ne(!0,a))}markAsPending(n={}){this.status=K;let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Y(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(k(D({},n),{sourceControl:e}))}disable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=ie,this.errors=null,this._forEachChild(s=>{s.disable(k(D({},n),{onlySelf:!0}))}),this._updateValue();let a=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new xe(this.value,a)),this._events.next(new Y(this.status,a)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(k(D({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(s=>s(!0))}enable(n={}){let e=this._parentMarkedDirty(n.onlySelf);this.status=te,this._forEachChild(a=>{a.enable(k(D({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(k(D({},n),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(a=>a(!1))}_updateAncestors(n,e){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let a=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===te||this.status===K)&&this._runAsyncValidator(a,n.emitEvent)}let e=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new xe(this.value,e)),this._events.next(new Y(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(k(D({},n),{sourceControl:e}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ie:te}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,e){if(this.asyncValidator){this.status=K,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:n!==!1};let a=St(this.asyncValidator(this));this._asyncValidationSubscription=a.subscribe(s=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(s,{emitEvent:e,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,e={}){this.errors=n,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(n){let e=n;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((a,s)=>a&&a._find(s),this)}getError(n,e){let a=e?this.get(e):this;return a&&a.errors?a.errors[n]:null}hasError(n,e){return!!this.getError(n,e)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,e,a){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||a)&&this._events.next(new Y(this.status,e)),this._parent&&this._parent._updateControlsErrors(n,e,a)}_initObservables(){this.valueChanges=new y,this.statusChanges=new y}_calculateStatus(){return this._allControlsDisabled()?ie:this.errors?he:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(K)?K:this._anyControlsHaveStatus(he)?he:te}_anyControlsHaveStatus(n){return this._anyControls(e=>e.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,e){let a=!this._anyControlsDirty(),s=this.pristine!==a;this.pristine=a,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,e),s&&this._events.next(new ne(this.pristine,e))}_updateTouched(n={},e){this.touched=this._anyControlsTouched(),this._events.next(new re(this.touched,e)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,e)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){_e(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let e=this._parent&&this._parent.dirty;return!n&&!!e&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=Kt(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=Xt(this._rawAsyncValidators)}};var It=new U("",{providedIn:"root",factory:()=>We}),We="always";function Jt(r,n){return[...n.path,r]}function Qt(r,n,e=We){ei(r,n),n.valueAccessor.writeValue(r.value),(r.disabled||e==="always")&&n.valueAccessor.setDisabledState?.(r.disabled),ti(r,n),ni(r,n),ii(r,n),Zt(r,n)}function vt(r,n){r.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(n)})}function Zt(r,n){if(n.valueAccessor.setDisabledState){let e=a=>{n.valueAccessor.setDisabledState(a)};r.registerOnDisabledChange(e),n._registerOnDestroy(()=>{r._unregisterOnDisabledChange(e)})}}function ei(r,n){let e=Wt(r);n.validator!==null?r.setValidators(gt(e,n.validator)):typeof e=="function"&&r.setValidators([e]);let a=$t(r);n.asyncValidator!==null?r.setAsyncValidators(gt(a,n.asyncValidator)):typeof a=="function"&&r.setAsyncValidators([a]);let s=()=>r.updateValueAndValidity();vt(n._rawValidators,s),vt(n._rawAsyncValidators,s)}function ti(r,n){n.valueAccessor.registerOnChange(e=>{r._pendingValue=e,r._pendingChange=!0,r._pendingDirty=!0,r.updateOn==="change"&&kt(r,n)})}function ii(r,n){n.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,r.updateOn==="blur"&&r._pendingChange&&kt(r,n),r.updateOn!=="submit"&&r.markAsTouched()})}function kt(r,n){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function ni(r,n){let e=(a,s)=>{n.valueAccessor.writeValue(a),s&&n.viewToModelUpdate(a)};r.registerOnChange(e),n._registerOnDestroy(()=>{r._unregisterOnChange(e)})}function ri(r,n){if(!r.hasOwnProperty("model"))return!1;let e=r.model;return e.isFirstChange()?!0:!Object.is(n,e.currentValue)}function oi(r){return Object.getPrototypeOf(r.constructor)===Ot}function ai(r,n){if(!n)return null;Array.isArray(n);let e,a,s;return n.forEach(m=>{m.constructor===X?e=m:oi(m)?a=m:s=m}),s||a||e||null}function bt(r,n){let e=r.indexOf(n);e>-1&&r.splice(e,1)}function xt(r){return typeof r=="object"&&r!==null&&Object.keys(r).length===2&&"value"in r&&"disabled"in r}var li=class extends He{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,e,a){super(zt(e),Yt(a,e)),this._applyFormState(n),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),_e(e)&&(e.nonNullable||e.initialValueIsDefault)&&(xt(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,e={}){this.value=this._pendingValue=n,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(a=>a(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(n,e={}){this.setValue(n,e)}reset(n=this.defaultValue,e={}){this._applyFormState(n),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1,e?.emitEvent!==!1&&this._events.next(new Ue(this))}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){bt(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){bt(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){xt(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var si={provide:oe,useExisting:Ie(()=>ae)},yt=Promise.resolve(),ae=(()=>{class r extends oe{_changeDetectorRef;callSetDisabledState;control=new li;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new y;constructor(e,a,s,m,O,Nt){super(),this._changeDetectorRef=O,this.callSetDisabledState=Nt,this._parent=e,this._setValidators(a),this._setAsyncValidators(s),this.valueAccessor=ai(this,m)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let a=e.name.previousValue;this.formDirective.removeControl({name:a,path:this._getPath(a)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),ri(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Qt(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){yt.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let a=e.isDisabled.currentValue,s=a!==0&&rt(a);yt.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?Jt(e,this._parent):[e]}static \u0275fac=function(a){return new(a||r)(E(Be,9),E(jt,10),E(Bt,10),E(Ct,10),E(nt,8),E(It,8))};static \u0275dir=H({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Re([si]),ee,Je]})}return r})();var di=(()=>{class r{static \u0275fac=function(a){return new(a||r)};static \u0275mod=Ne({type:r});static \u0275inj=ke({})}return r})();var J=(()=>{class r{static withConfig(e){return{ngModule:r,providers:[{provide:It,useValue:e.callSetDisabledState??We}]}}static \u0275fac=function(a){return new(a||r)};static \u0275mod=Ne({type:r});static \u0275inj=ke({imports:[di]})}return r})();var Q=class r{constructor(n){this.http=n}useMockDify=!0;conversationId=null;conversationStep=0;sendMessage(n,e={}){return this.useMockDify?this.mockDifyLogic(n):this.http.post("/api/dify/chat-messages",{query:n,inputs:e,conversation_id:this.conversationId,user:"user-123"}).pipe(se(a=>({answer:a.answer,metadata:a.metadata})))}mockDifyLogic(n){let e=n.toLowerCase(),a={answer:"I didn't understand that."};if(this.conversationStep===0)return this.conversationStep++,T({answer:`Hello! I'm the Product Ideation Agent. 

I can help you classify and route your product proposal. Briefly describe the product structure, underlying asset, and payout logic.`}).pipe(F(1e3));if(this.conversationStep===1)return this.conversationStep++,e.includes("crypto")?T({answer:`\u26A0\uFE0F **Stop**. My analysis detects this as a **New-to-Group (NTG)** product (Crypto Asset Class). 

You cannot proceed with an NPA yet. You must obtain **PAC (Product Approval Committee)** approval first.`,metadata:{agent_action:"STOP_PROCESS"}}).pipe(F(2e3)):T({answer:`I've analyzed your description. 

*   **Classification**: Variation / Existing
*   **Similar NPA**: Found 'TSG1917' (Active)

One critical check before we proceed: **Will this product involve booking across multiple locations (Cross-Border)?**`}).pipe(F(2e3));if(this.conversationStep===2){let s=e.includes("yes")||e.includes("hk")||e.includes("london"),m=`Thanks. I've finalized the configuration.

`;return m+=`### Summary
`,m+=`*   **Track**: NPA Lite (Variation)
`,m+=`*   **Cross-Border**: ${s?"\u2705 YES":"NO"}
`,s&&(m+=`*   **Mandatory Sign-Offs Added**: Finance, Credit, MLR, Tech, Ops
`),m+=`
I have prepared the Work Item shell. Please click below to generate it.`,T({answer:m,metadata:{agent_action:"ROUTE_WORK_ITEM",payload:{track:"NPA_LITE",isCrossBorder:s,mandatorySignOffs:s?["FINANCE","CREDIT","MLR","TECH","OPS"]:[]}}}).pipe(F(2500))}return T({answer:"I've already completed this analysis. Please reset if you want to start over."}).pipe(F(500))}reset(){this.conversationStep=0}static \u0275fac=function(e){return new(e||r)(Ke(dt))};static \u0275prov=Z({token:r,factory:r.\u0275fac,providedIn:"root"})};var ui=["scrollContainer"],mi=r=>({"flex-row-reverse":r});function pi(r,n){r&1&&(i(0,"span"),o(1,"V"),t())}function gi(r,n){r&1&&l(0,"lucide-icon",17)}function fi(r,n){if(r&1&&(i(0,"div",10)(1,"div",11),p(2,pi,2,0,"span",12)(3,gi,1,0,"lucide-icon",13),t(),i(4,"div",14),l(5,"markdown",15),i(6,"span",16),o(7),z(8,"date"),t()()()),r&2){let e=n.$implicit;c("ngClass",tt(10,mi,e.role==="user")),d(),c("ngClass",e.role==="user"?"bg-indigo-600 text-white":"bg-white border border-gray-200 text-indigo-600"),d(),c("ngIf",e.role==="user"),d(),c("ngIf",e.role!=="user"),d(),c("ngClass",e.role==="user"?"bg-indigo-50 border border-indigo-100 text-gray-900 rounded-tr-sm":"bg-white border border-gray-200 text-gray-800 rounded-tl-sm"),d(),c("data",e.content),d(2),v(it(8,7,e.timestamp,"shortTime"))}}function hi(r,n){r&1&&(i(0,"div",18)(1,"div",19),l(2,"lucide-icon",20),t(),i(3,"div",21)(4,"span"),o(5,"Processing request..."),t()()())}var le=class r{constructor(n){this.difyService=n}onComplete=new y;scrollContainer;userInput="";isThinking=!1;messages=[];nextAgent=null;AGENTS={ORCHESTRATOR:{id:"ORCHESTRATOR",name:"NPA Orchestrator",role:"Main Coordinator",color:"bg-slate-800",icon:"brain-circuit"},STRATEGY:{id:"STRATEGY",name:"Strategy Agent",role:"Product & Market Analysis",color:"bg-amber-500",icon:"lightbulb"},RISK:{id:"RISK",name:"Risk Agent",role:"Risk & Compliance Check",color:"bg-red-500",icon:"shield-alert"},LEGAL:{id:"LEGAL",name:"Legal Agent",role:"Regulatory & Contract Review",color:"bg-blue-600",icon:"scale"},OPS:{id:"OPS",name:"Ops Agent",role:"Operational Workflow",color:"bg-emerald-600",icon:"settings"}};currentAgent=this.AGENTS.ORCHESTRATOR;ngOnInit(){this.startConversation()}ngAfterViewChecked(){this.scrollToBottom()}startConversation(){this.difyService.reset(),this.messages.push({role:"agent",content:"Hello! I am your **NPA Agent**. I can assist you with all your product approval tasks, including strategy drafting, risk assessment, and compliance checks. How can I help you today?",timestamp:new Date})}sendMessage(){this.userInput.trim()&&this.processUserMessage(this.userInput)}triggerInput(n){this.processUserMessage(n)}processUserMessage(n){this.messages.push({role:"user",content:n,timestamp:new Date}),this.userInput="",this.isThinking=!0,this.callAgentResponse(n,this.currentAgent)}determineTargetAgent(n){return this.AGENTS.ORCHESTRATOR}callAgentResponse(n,e){this.difyService.sendMessage(n).subscribe({next:a=>{this.messages.push({role:"agent",content:a.answer,timestamp:new Date}),this.isThinking=!1},error:()=>{this.messages.push({role:"agent",content:"I'm encountering a connection issue. Please try again.",timestamp:new Date}),this.isThinking=!1}})}resetChat(){this.messages=[],this.currentAgent=this.AGENTS.ORCHESTRATOR,this.startConversation()}scrollToBottom(){try{this.scrollContainer.nativeElement.scrollTop=this.scrollContainer.nativeElement.scrollHeight}catch{}}static \u0275fac=function(e){return new(e||r)(E(Q))};static \u0275cmp=_({type:r,selectors:[["app-orchestrator-chat"]],viewQuery:function(e,a){if(e&1&&ce(ui,5),e&2){let s;ue(s=me())&&(a.scrollContainer=s.first)}},outputs:{onComplete:"onComplete"},decls:10,vars:5,consts:[["scrollContainer",""],[1,"flex","flex-col","h-full","bg-white","relative"],[1,"flex-1","overflow-y-auto","p-4","space-y-6","scrollbar-thin","scroll-smooth"],["class","flex gap-4 group",3,"ngClass",4,"ngFor","ngForOf"],["class","flex gap-4 animate-pulse",4,"ngIf"],[1,"p-4","bg-gray-50","border-t","border-gray-200"],[1,"relative","flex","items-center"],["type","text","placeholder","Ask me anything about your NPA...",1,"w-full","bg-white","text-gray-900","text-sm","rounded-lg","pl-4","pr-12","py-3","border","border-gray-300","focus:border-indigo-500","focus:ring-1","focus:ring-indigo-500","focus:outline-none","transition-all","placeholder:text-gray-400","shadow-sm",3,"ngModelChange","keydown.enter","ngModel","disabled"],[1,"absolute","right-2","p-1.5","rounded-md","bg-indigo-600","hover:bg-indigo-500","text-white","disabled:opacity-50","disabled:cursor-not-allowed","transition-colors","shadow-sm",3,"click","disabled"],["name","send",1,"w-4","h-4"],[1,"flex","gap-4","group",3,"ngClass"],[1,"flex-none","w-8","h-8","rounded-full","flex","items-center","justify-center","text-xs","font-bold","shadow-sm","transition-all","relative",3,"ngClass"],[4,"ngIf"],["name","bot","class","w-4 h-4",4,"ngIf"],[1,"max-w-[85%]","rounded-2xl","px-4","py-3","text-sm","leading-relaxed","shadow-sm","transition-all",3,"ngClass"],[3,"data"],[1,"text-[9px]","opacity-40","mt-1","block","font-mono"],["name","bot",1,"w-4","h-4"],[1,"flex","gap-4","animate-pulse"],[1,"w-8","h-8","rounded-full","bg-white","border","border-gray-200","flex","items-center","justify-center"],["name","loader-2",1,"w-3","h-3","text-indigo-600","animate-spin"],[1,"text-xs","text-gray-400","flex","items-center","gap-2","py-2"]],template:function(e,a){if(e&1){let s=b();i(0,"div",1)(1,"div",2,0),p(3,fi,9,12,"div",3)(4,hi,6,0,"div",4),t(),i(5,"div",5)(6,"div",6)(7,"input",7),q("ngModelChange",function(O){return f(s),$(a.userInput,O)||(a.userInput=O),h(O)}),g("keydown.enter",function(){return f(s),h(a.sendMessage())}),t(),i(8,"button",8),g("click",function(){return f(s),h(a.sendMessage())}),l(9,"lucide-icon",9),t()()()()}e&2&&(d(3),c("ngForOf",a.messages),d(),c("ngIf",a.isThinking),d(3),W("ngModel",a.userInput),c("disabled",a.isThinking),d(),c("disabled",!a.userInput.trim()||a.isThinking))},dependencies:[C,N,M,A,J,X,ye,ae,w,S,mt,ut,st],styles:["[_nghost-%COMP%]{display:block;height:100%}.scrollbar-thin[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.scrollbar-thin[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#e5e7eb;border-radius:3px}@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0}to{opacity:1}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fade-in .3s ease-out}"]})};function vi(r,n){if(r&1){let e=b();i(0,"button",21),g("click",function(){f(e);let s=u();return h(s.resetChat())}),l(1,"lucide-icon",22),t()}}function bi(r,n){if(r&1){let e=b();i(0,"button",39),g("click",function(){let s=f(e).$implicit,m=u(2);return h(m.selectedCategory=s.id)}),o(1),t()}if(r&2){let e=n.$implicit,a=u(2);c("ngClass",a.selectedCategory===e.id?"bg-indigo-50 text-indigo-700 border-indigo-200 shadow-sm":"bg-white text-gray-600 border-gray-200 hover:border-gray-300 hover:bg-gray-50"),d(),x(" ",e.name," ")}}function xi(r,n){if(r&1){let e=b();i(0,"div",40),g("click",function(){let s=f(e).$implicit,m=u(2);return h(m.selectTemplate(s))}),i(1,"div",41)(2,"div",42),l(3,"lucide-icon",43),t(),l(4,"lucide-icon",44),t(),i(5,"h4",45),o(6),t(),i(7,"p",46),o(8),t(),i(9,"div",47)(10,"span",48),l(11,"lucide-icon",49),o(12),t(),i(13,"span",48),l(14,"lucide-icon",50),o(15),t()()()}if(r&2){let e=n.$implicit;d(2),c("ngClass",e.iconBg||"bg-gray-100 text-gray-600"),d(),c("name",e.icon||"file-text"),d(3),v(e.title),d(2),v(e.description),d(4),x(" ",e.avgTime," "),d(3),x(" ",e.successRate,"% success ")}}function yi(r,n){r&1&&(i(0,"span",72),o(1,"*"),t())}function _i(r,n){if(r&1&&l(0,"input",73),r&2){let e=u().$implicit;c("type",e.type||"text")("placeholder",e.placeholder)}}function Ci(r,n){if(r&1&&l(0,"textarea",74),r&2){let e=u().$implicit;c("placeholder",e.placeholder)}}function wi(r,n){if(r&1&&(i(0,"div")(1,"label",68),o(2),p(3,yi,2,0,"span",69),t(),p(4,_i,1,2,"input",70)(5,Ci,1,1,"textarea",71),t()),r&2){let e=n.$implicit;d(2),x("",e.label," "),d(),c("ngIf",e.required),d(),c("ngIf",e.type!=="textarea"),d(),c("ngIf",e.type==="textarea")}}function Si(r,n){if(r&1){let e=b();i(0,"div",51)(1,"div",52)(2,"h3",53),o(3,"Configure Template"),t(),i(4,"button",54),g("click",function(){f(e);let s=u(2);return h(s.activeTemplate=null)}),l(5,"lucide-icon",55),t()(),i(6,"div",56)(7,"div",57)(8,"div",58)(9,"div",59),l(10,"lucide-icon",43),t(),i(11,"div")(12,"label",60),o(13,"Selected"),t(),i(14,"p",61),o(15),t()()(),i(16,"div",62),o(17),t(),i(18,"div",63),p(19,wi,6,4,"div",64),t()()(),i(20,"div",65)(21,"button",66),g("click",function(){f(e);let s=u(2);return h(s.submitTemplate())}),l(22,"lucide-icon",67),o(23," Generate with AI "),t()()()}if(r&2){let e=u(2);d(9),c("ngClass",e.activeTemplate.iconBg),d(),c("name",e.activeTemplate.icon||"file-text"),d(5),v(e.activeTemplate.title),d(2),x(" ",e.activeTemplate.description," "),d(2),c("ngForOf",e.activeTemplate.inputs)}}function Ei(r,n){if(r&1&&(i(0,"div",23)(1,"div",24)(2,"div",25),l(3,"lucide-icon",26),o(4," Categories: "),t(),p(5,bi,2,2,"button",27),t(),i(6,"div",28)(7,"div",29)(8,"div",30)(9,"h3",31),o(10),i(11,"span",32),o(12),t()(),i(13,"div",33),l(14,"lucide-icon",34)(15,"input",35),t()(),i(16,"div",36),p(17,xi,16,6,"div",37),t()()(),p(18,Si,24,5,"div",38),t()),r&2){let e=u();d(5),c("ngForOf",e.categories),d(5),x(" ",e.getCategoryName(e.selectedCategory)," "),d(2),x("(",e.getTemplatesByCategory(e.selectedCategory).length," templates)"),d(5),c("ngForOf",e.getTemplatesByCategory(e.selectedCategory)),d(),c("ngIf",e.activeTemplate)}}function Ai(r,n){if(r&1){let e=b();i(0,"div",75)(1,"app-orchestrator-chat",76),g("onComplete",function(){f(e);let s=u();return h(s.handleAgentComplete())}),t()()}}var Ce=class r{onBack=new y;onComplete=new y;chatComponent;mode="TEMPLATE";selectedCategory="STRATEGY";activeTemplate=null;categories=[{id:"STRATEGY",name:"Product Strategy"},{id:"RISK",name:"Risk & Compliance"},{id:"LEGAL",name:"Legal & Regulatory"},{id:"OPS",name:"Operations"},{id:"MARKETING",name:"Marketing & Sales"}];templates=[{id:"S1",title:"Draft New Product Concept",description:"Generate a structured concept paper for a new financial product, including target market and revenue model.",category:"Product Strategy",successRate:88,avgTime:"2m 15s",icon:"lightbulb",iconBg:"bg-amber-100 text-amber-600",inputs:[{label:"Product Name",placeholder:"e.g. Green Bond ETF",key:"name",required:!0},{label:"Target Segment",placeholder:"e.g. Institutional Investors",key:"segment"},{label:"Key Features",placeholder:"Describe main features...",key:"features",type:"textarea"}]},{id:"S2",title:"Competitor Analysis",description:"Analyze key competitors for a proposed product and identify differentiators.",category:"Product Strategy",successRate:92,avgTime:"45s",icon:"users",iconBg:"bg-blue-100 text-blue-600",inputs:[{label:"Product Type",placeholder:"e.g. Robo-advisory",key:"type",required:!0},{label:"Main Competitor",placeholder:"e.g. StashAway",key:"competitor"}]},{id:"R1",title:"Initial Risk Assessment",description:"Evaluate potential operational, credit, and market risks for a new initiative.",category:"Risk & Compliance",successRate:95,avgTime:"1m 30s",icon:"shield-alert",iconBg:"bg-red-100 text-red-600",inputs:[{label:"Product/Process",placeholder:"e.g. Crypto Custody",key:"product",required:!0},{label:"Jurisdiction",placeholder:"e.g. Singapore, HK",key:"jurisdiction"}]},{id:"R2",title:"Check Prohibited Lists",description:"Scan entities or product types against internal prohibited/restricted lists.",category:"Risk & Compliance",successRate:99,avgTime:"10s",icon:"search",iconBg:"bg-orange-100 text-orange-600",inputs:[{label:"Keywords",placeholder:"Enter names or sectors...",key:"keywords",required:!0}]},{id:"L1",title:"Regulatory Compliance Check",description:"Verify if a product structure adheres to MAS Guidelines (e.g., SFA, FAA).",category:"Legal & Regulatory",successRate:91,avgTime:"3m",icon:"scale",iconBg:"bg-slate-100 text-slate-700",inputs:[{label:"Product Structure",placeholder:"Describe structure...",key:"structure",type:"textarea"},{label:"Relevant Regulation",placeholder:"e.g. MAS 656",key:"reg"}]},{id:"O1",title:"Draft Process Flow",description:"Outline the end-to-end operational workflow for booking and settlement.",category:"Operations",successRate:85,avgTime:"2m",icon:"workflow",iconBg:"bg-indigo-100 text-indigo-600",inputs:[{label:"Asset Class",placeholder:"e.g. Equities",key:"asset"},{label:"Booking System",placeholder:"e.g. Murex",key:"system"}]}];constructor(){console.log("ChatInterface Init. Categories:",this.categories),console.log("Templates:",this.templates)}goBack(){this.onBack.emit()}handleAgentComplete(){this.onComplete.emit()}getCategoryName(n){return this.categories.find(e=>e.id===n)?.name||"Templates"}getTemplatesByCategory(n){let e=this.categories.find(a=>a.id===n)?.name;return e?this.templates.filter(a=>a.category===e):[]}selectTemplate(n){this.activeTemplate=n}submitTemplate(){if(!this.activeTemplate)return;let n=this.activeTemplate.title,e=this.activeTemplate.inputs.map(s=>`${s.label}: [User Input]`).join(", "),a=`Manage Task: ${n}
Details: ${e}`;this.mode="AGENT",this.activeTemplate=null,setTimeout(()=>{this.chatComponent&&this.chatComponent.triggerInput(a)},100)}resetChat(){this.chatComponent&&this.chatComponent.resetChat()}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=_({type:r,selectors:[["app-chat-interface"]],viewQuery:function(e,a){if(e&1&&ce(le,5),e&2){let s;ue(s=me())&&(a.chatComponent=s.first)}},outputs:{onBack:"onBack",onComplete:"onComplete"},decls:28,vars:5,consts:[[1,"h-full","flex","flex-col","bg-white"],[1,"h-16","flex","items-center","justify-between","px-6","border-b","border-gray-200","bg-white","shadow-sm","z-20"],[1,"flex","items-center","gap-4"],[1,"p-2","rounded-lg","hover:bg-gray-100","text-gray-500","hover:text-gray-900","transition-colors",3,"click"],["name","arrow-left",1,"w-5","h-5"],[1,"flex","items-center","gap-3"],[1,"h-8","w-px","bg-gray-200"],[1,"text-sm","font-bold","text-gray-900"],[1,"text-[10px]","text-gray-500","font-mono"],[1,"flex","items-center","gap-1","bg-gray-100","p-1","rounded-lg"],[1,"px-4","py-1.5","rounded-md","text-xs","font-bold","transition-all","flex","items-center","gap-2",3,"click","ngClass"],["name","layout-template",1,"w-3.5","h-3.5"],["name","message-square",1,"w-3.5","h-3.5"],[1,"flex","items-center","gap-2"],["title","Reset Conversation","class","p-2 rounded-lg hover:bg-gray-100 text-gray-500 hover:text-red-600 transition-colors",3,"click",4,"ngIf"],[1,"h-6","w-px","bg-gray-200","mx-1"],[1,"text-xs","text-green-600","font-medium","flex","items-center","gap-1.5","bg-green-50","px-2","py-1","rounded","border","border-green-100"],[1,"w-1.5","h-1.5","rounded-full","bg-green-500","animate-pulse"],[1,"flex-1","overflow-hidden","relative","flex","flex-col"],["class","flex-1 flex flex-col h-full bg-slate-50 relative",4,"ngIf"],["class","h-full flex flex-col",4,"ngIf"],["title","Reset Conversation",1,"p-2","rounded-lg","hover:bg-gray-100","text-gray-500","hover:text-red-600","transition-colors",3,"click"],["name","rotate-ccw",1,"w-5","h-5"],[1,"flex-1","flex","flex-col","h-full","bg-slate-50","relative"],[1,"w-full","bg-white","border-b","border-gray-200","px-6","py-3","flex","items-center","gap-4","overflow-x-auto","scrollbar-hide","flex-none"],[1,"flex","items-center","gap-2","text-gray-400","text-xs","font-bold","uppercase","tracking-wider","mr-2"],["name","filter",1,"w-3.5","h-3.5"],["class","px-3 py-1.5 rounded-full text-xs font-bold whitespace-nowrap transition-all border",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"flex-1","overflow-y-auto","p-6","md:p-8"],[1,"max-w-5xl","mx-auto","space-y-6"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-lg","font-bold","text-gray-900","flex","items-center","gap-2"],[1,"text-gray-400","font-normal","text-sm"],[1,"relative","w-64"],["name","search",1,"absolute","left-3","top-1/2","-translate-y-1/2","w-4","h-4","text-gray-400"],["type","text","placeholder","Filter templates...",1,"w-full","text-sm","pl-9","pr-3","py-2","rounded-lg","border","border-gray-200","bg-white","focus:border-indigo-500","focus:ring-1","focus:ring-indigo-500","outline-none","shadow-sm"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["class","bg-white border border-gray-200 rounded-xl p-5 hover:shadow-md hover:border-indigo-300 transition-all cursor-pointer relative group flex flex-col h-full",3,"click",4,"ngFor","ngForOf"],["class","w-96 border-l border-gray-200 bg-white flex-none flex flex-col shadow-2xl absolute right-0 top-0 bottom-0 z-30 animate-slide-in",4,"ngIf"],[1,"px-3","py-1.5","rounded-full","text-xs","font-bold","whitespace-nowrap","transition-all","border",3,"click","ngClass"],[1,"bg-white","border","border-gray-200","rounded-xl","p-5","hover:shadow-md","hover:border-indigo-300","transition-all","cursor-pointer","relative","group","flex","flex-col","h-full",3,"click"],[1,"flex","items-start","justify-between","mb-3"],[1,"p-2","rounded-lg",3,"ngClass"],[1,"w-5","h-5",3,"name"],["name","arrow-right",1,"w-4","h-4","text-gray-300","group-hover:text-indigo-500","transition-colors"],[1,"text-sm","font-bold","text-gray-900","mb-1","group-hover:text-indigo-700","transition-colors"],[1,"text-xs","text-gray-500","mb-4","line-clamp-2","flex-1"],[1,"flex","items-center","gap-3","text-[10px]","font-medium","pt-3","border-t","border-gray-100"],[1,"text-slate-600","flex","items-center","gap-1"],["name","clock",1,"w-3","h-3","text-slate-400"],["name","check-circle",1,"w-3","h-3","text-green-500"],[1,"w-96","border-l","border-gray-200","bg-white","flex-none","flex","flex-col","shadow-2xl","absolute","right-0","top-0","bottom-0","z-30","animate-slide-in"],[1,"p-4","border-b","border-gray-200","flex","items-center","justify-between","bg-gray-50"],[1,"text-sm","font-bold","text-gray-900","truncate","pr-4"],[1,"text-gray-400","hover:text-gray-600","hover:bg-gray-200","rounded-full","p-1","transition-colors",3,"click"],["name","x",1,"w-5","h-5"],[1,"p-6","flex-1","overflow-y-auto"],[1,"space-y-6"],[1,"flex","items-start","gap-3"],[1,"p-2","rounded-lg","flex-none",3,"ngClass"],[1,"text-[10px]","font-bold","text-gray-500","uppercase","tracking-widest","block","mb-1"],[1,"text-sm","font-bold","text-gray-900","leading-tight"],[1,"p-3","bg-indigo-50","border","border-indigo-100","rounded-lg","text-xs","text-indigo-800"],[1,"space-y-4","pt-2"],[4,"ngFor","ngForOf"],[1,"p-4","border-t","border-gray-200","bg-gray-50"],[1,"w-full","py-3","bg-indigo-600","hover:bg-indigo-700","text-white","text-sm","font-bold","rounded-xl","shadow-lg","shadow-indigo-200","transition-all","flex","items-center","justify-center","gap-2","transform","active:scale-95",3,"click"],["name","sparkles",1,"w-4","h-4"],[1,"block","text-xs","font-semibold","text-gray-700","mb-1.5"],["class","text-red-500",4,"ngIf"],["class","w-full text-sm px-3 py-2 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none transition-shadow bg-white hover:bg-gray-50 focus:bg-white",3,"type","placeholder",4,"ngIf"],["rows","3","class","w-full text-sm px-3 py-2 rounded-lg border border-gray-300 focus:border-indigo-500 focus:ring-1 focus:ring-indigo-500 outline-none transition-shadow bg-white hover:bg-gray-50 focus:bg-white",3,"placeholder",4,"ngIf"],[1,"text-red-500"],[1,"w-full","text-sm","px-3","py-2","rounded-lg","border","border-gray-300","focus:border-indigo-500","focus:ring-1","focus:ring-indigo-500","outline-none","transition-shadow","bg-white","hover:bg-gray-50","focus:bg-white",3,"type","placeholder"],["rows","3",1,"w-full","text-sm","px-3","py-2","rounded-lg","border","border-gray-300","focus:border-indigo-500","focus:ring-1","focus:ring-indigo-500","outline-none","transition-shadow","bg-white","hover:bg-gray-50","focus:bg-white",3,"placeholder"],[1,"h-full","flex","flex-col"],[3,"onComplete"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),g("click",function(){return a.goBack()}),l(4,"lucide-icon",4),t(),i(5,"div",5),l(6,"div",6),i(7,"div")(8,"h2",7),o(9,"NPA Agent"),t(),i(10,"p",8),o(11,"Product Approval Assistant"),t()()()(),i(12,"div",9)(13,"button",10),g("click",function(){return a.mode="TEMPLATE"}),l(14,"lucide-icon",11),o(15," Templates "),t(),i(16,"button",10),g("click",function(){return a.mode="AGENT"}),l(17,"lucide-icon",12),o(18," Chat "),t()(),i(19,"div",13),p(20,vi,2,0,"button",14),l(21,"div",15),i(22,"span",16),l(23,"span",17),o(24," Online "),t()()(),i(25,"div",18),p(26,Ei,19,5,"div",19)(27,Ai,2,0,"div",20),t()()),e&2&&(d(13),c("ngClass",a.mode==="TEMPLATE"?"bg-white text-indigo-600 shadow-sm":"text-gray-500 hover:text-gray-700"),d(3),c("ngClass",a.mode==="AGENT"?"bg-white text-indigo-600 shadow-sm":"text-gray-500 hover:text-gray-700"),d(4),c("ngIf",a.mode==="AGENT"),d(6),c("ngIf",a.mode==="TEMPLATE"),d(),c("ngIf",a.mode==="AGENT"))},dependencies:[C,N,M,A,w,S,J,le],styles:["[_nghost-%COMP%]{display:block;height:100%}.animate-slide-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s cubic-bezier(.16,1,.3,1)}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}"]})};var we=class r{difyBase=R(Q);getCapabilities(){return T([{id:"create_npa",name:"Create New NPA",description:"Guides you through 10 questions to build a complete NPA with 78% auto-fill.",icon:"file-edit",stats:{label:"Creates",value:"1,248"},actionLabel:"Start",color:"blue",status:"active"},{id:"find_similar",name:"Find Similar NPAs",description:"Search 1,784 historical records by semantic similarity using vector embeddings.",icon:"sparkles",stats:{label:"Match Rate",value:"94%"},actionLabel:"Search",color:"purple",status:"active"},{id:"predict_outcome",name:"Predict Outcome",description:"ML precision forecasts on approval likelihood, timeline, and potential bottlenecks.",icon:"trending-up",stats:{label:"Accuracy",value:"92%"},actionLabel:"Predict",color:"amber",status:"active"},{id:"policy_qa",name:"Policy Q&A",description:"Ask anything about MAS regulations and internal DBS policies. Citations included.",icon:"book-open",stats:{label:"Docs",value:"200+"},actionLabel:"Ask",color:"green",status:"active"},{id:"auto_fill",name:"Template Auto-Fill",description:"Upload term sheets or RFPs to automatically populate the 47-field NPA template.",icon:"zap",stats:{label:"Coverage",value:"78%"},actionLabel:"Upload",color:"indigo",status:"active"},{id:"classify_route",name:"Classify & Route",description:"Determine if product is NTG, Variation, or Existing and assign approval track.",icon:"git-branch",stats:{label:"Confidence",value:"88%"},actionLabel:"Classify",color:"red",status:"active"},{id:"validate_docs",name:"Validate Documents",description:"Check completeness and compliance of uploaded documents before submission.",icon:"shield-check",stats:{label:"Catch Rate",value:"89%"},actionLabel:"Validate",color:"blue",status:"beta"},{id:"historical_analysis",name:"Historical Analysis",description:"Understand past decisions and approval reasoning for 1,784+ NPAs.",icon:"history",stats:{label:"Records",value:"1.7k"},actionLabel:"Analyze",color:"purple",status:"active"}]).pipe(F(500))}getActiveWorkItems(){return T([{id:"JOB-992",agentName:"TemplateAutoFill",operation:'Parsing "Term_Sheet_FX.pdf"',status:"running",duration:"1.2s",color:"blue"},{id:"JOB-991",agentName:"Classification",operation:"Classifying TSG2025-041",status:"completed",duration:"450ms",color:"purple"},{id:"JOB-990",agentName:"Orchestration",operation:"Handing off to Human (Ops)",status:"waiting",duration:"12m",color:"amber"},{id:"JOB-989",agentName:"KB Search",operation:'Indexing "MAS_Guidelines.pdf"',status:"completed",duration:"890ms",color:"fuchsia"},{id:"JOB-988",agentName:"Prohibited List",operation:'Scanning "Sanctions.csv"',status:"running",duration:"2.1s",color:"red"}]).pipe(F(300))}getAgentHealth(){return T({status:"healthy",latency:42,uptime:99.9,activeAgents:8,totalDecisions:14529}).pipe(F(200))}static \u0275fac=function(e){return new(e||r)};static \u0275prov=Z({token:r,factory:r.\u0275fac,providedIn:"root"})};function Di(r,n){r&1&&(i(0,"div",14)(1,"div",15)(2,"p")(3,"span",16),o(4,"How it works:"),t(),o(5," This agent uses Dify workflows to orchestrate the process."),t(),i(6,"div",17)(7,"span",18),o(8,"Model: GPT-4o"),t(),i(9,"span",18),o(10,"Tools: 3"),t()(),i(11,"button",19),o(12," Launch Full Mode "),t()()())}var Se=class r{capability;isExpanded=!1;action=new y;expand=new y;onActionClick(n){n.stopPropagation(),this.action.emit()}toggleExpand(){this.expand.emit()}getHoverClass(n){return{blue:"hover:border-blue-200",purple:"hover:border-purple-200",amber:"hover:border-amber-200",green:"hover:border-green-200",indigo:"hover:border-indigo-200",red:"hover:border-red-200"}[n]||"hover:border-slate-200"}getIconBgClass(n){return{blue:"bg-blue-50 text-blue-600",purple:"bg-purple-50 text-purple-600",amber:"bg-amber-50 text-amber-600",green:"bg-green-50 text-green-600",indigo:"bg-indigo-50 text-indigo-600",red:"bg-red-50 text-red-600"}[n]||"bg-slate-50 text-slate-600"}getTextClass(n){return{blue:"text-blue-600",purple:"text-purple-600",amber:"text-amber-600",green:"text-green-600",indigo:"text-indigo-600",red:"text-red-600"}[n]||"text-slate-600"}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=_({type:r,selectors:[["app-capability-card"]],inputs:{capability:"capability",isExpanded:"isExpanded"},outputs:{action:"action",expand:"expand"},decls:19,vars:13,consts:[[1,"group","bg-white","rounded-xl","p-5","border","border-slate-200","shadow-sm","hover:shadow-md","transition-all","cursor-pointer","relative","overflow-hidden",3,"click","ngClass"],[1,"flex","justify-between","items-start","mb-4"],[1,"w-10","h-10","rounded-lg","flex","items-center","justify-center","transition-transform","group-hover:scale-110",3,"ngClass"],[1,"w-5","h-5",3,"name"],[1,"text-slate-300","group-hover:text-slate-500","transition-colors"],[1,"w-4","h-4",3,"name"],[1,"font-bold","text-slate-900","mb-1"],[1,"text-sm","text-slate-500","mb-4","transition-all","duration-300"],[1,"flex","items-center","justify-between","text-xs","mt-auto"],[1,"font-mono","text-slate-400"],[1,"font-semibold","text-slate-600"],[1,"font-semibold","transition-transform","group-hover:translate-x-1","flex","items-center","gap-1",3,"click","ngClass"],["name","arrow-right",1,"w-3","h-3"],["class","mt-4 pt-4 border-t border-slate-100 animate-in fade-in slide-in-from-top-2 duration-200",4,"ngIf"],[1,"mt-4","pt-4","border-t","border-slate-100","animate-in","fade-in","slide-in-from-top-2","duration-200"],[1,"text-xs","text-slate-500","space-y-2"],[1,"font-semibold","text-slate-700"],[1,"flex","items-center","gap-2"],[1,"px-1.5","py-0.5","rounded","bg-slate-100","border","border-slate-200","text-[10px]","font-mono"],[1,"w-full","mt-3","py-1.5","rounded-lg","bg-slate-900","text-white","font-medium","hover:bg-slate-800","transition-colors"]],template:function(e,a){e&1&&(i(0,"div",0),g("click",function(){return a.toggleExpand()}),i(1,"div",1)(2,"div",2),l(3,"lucide-icon",3),t(),i(4,"div",4),l(5,"lucide-icon",5),t()(),i(6,"h3",6),o(7),t(),i(8,"p",7),o(9),t(),i(10,"div",8)(11,"span",9)(12,"span",10),o(13),t(),o(14),t(),i(15,"button",11),g("click",function(m){return a.onActionClick(m)}),o(16),l(17,"lucide-icon",12),t()(),p(18,Di,13,0,"div",13),t()),e&2&&(c("ngClass",a.getHoverClass(a.capability.color)),d(2),c("ngClass",a.getIconBgClass(a.capability.color)),d(),c("name",a.capability.icon),d(2),c("name",a.isExpanded?"chevron-up":"chevron-down"),d(2),v(a.capability.name),d(),V("line-clamp-2",!a.isExpanded),d(),x(" ",a.capability.description," "),d(4),v(a.capability.stats.value),d(),x(" ",a.capability.stats.label," "),d(),c("ngClass",a.getTextClass(a.capability.color)),d(),x(" ",a.capability.actionLabel," "),d(2),c("ngIf",a.isExpanded))},dependencies:[C,N,A,w,S],encapsulation:2})};function Mi(r,n){r&1&&(i(0,"span",22),l(1,"span",23),o(2," Running "),t())}function Vi(r,n){r&1&&(i(0,"span",24),l(1,"lucide-icon",25),o(2," Done "),t())}function Ii(r,n){r&1&&(i(0,"span",26),l(1,"lucide-icon",27),o(2," Wait "),t())}function ki(r,n){if(r&1&&(i(0,"div",11)(1,"div",12)(2,"span",13),o(3),t(),i(4,"span",14),o(5),t(),i(6,"span",15),o(7),t()(),i(8,"div",16)(9,"div",17),p(10,Mi,3,0,"span",18)(11,Vi,3,0,"span",19)(12,Ii,3,0,"span",20),t(),i(13,"span",21),o(14),t()()()),r&2){let e=n.$implicit,a=u();d(3),v(e.id),d(),c("ngClass",a.getColorClass(e.color)),d(),v(e.agentName),d(2),v(e.operation),d(3),c("ngIf",e.status==="running"),d(),c("ngIf",e.status==="completed"),d(),c("ngIf",e.status==="waiting"),d(2),v(e.duration)}}function Ti(r,n){r&1&&(i(0,"div",28),o(1," No active agent jobs running. "),t())}var Ee=class r{items=[];getColorClass(n){return{blue:"text-blue-400",purple:"text-purple-400",amber:"text-amber-400",green:"text-green-400",red:"text-red-400",fuchsia:"text-fuchsia-400"}[n]||"text-slate-400"}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=_({type:r,selectors:[["app-work-item-list"]],inputs:{items:"items"},decls:17,vars:2,consts:[[1,"bg-slate-900","rounded-xl","overflow-hidden","shadow-lg","border","border-slate-800","font-mono","text-sm"],[1,"bg-slate-950","px-4","py-2","border-b","border-slate-800","flex","items-center","justify-between","text-xs","text-slate-400"],[1,"flex","gap-4"],[1,"w-20"],[1,"w-32"],[1,"flex","gap-4","mr-8"],[1,"w-24","text-right"],[1,"w-16","text-right"],[1,"divide-y","divide-slate-800/50"],["class","px-4 py-3 flex items-center justify-between hover:bg-white/5 transition-colors group cursor-default",4,"ngFor","ngForOf"],["class","px-4 py-8 text-center text-slate-600 italic",4,"ngIf"],[1,"px-4","py-3","flex","items-center","justify-between","hover:bg-white/5","transition-colors","group","cursor-default"],[1,"flex","gap-4","items-center"],[1,"text-slate-500","w-20"],[1,"font-medium","w-32","truncate",3,"ngClass"],[1,"text-slate-300","truncate","max-w-[200px]","md:max-w-md"],[1,"flex","gap-4","justify-end","items-center"],[1,"w-24","flex","justify-end"],["class","text-green-400 flex items-center gap-1.5",4,"ngIf"],["class","text-slate-500 flex items-center gap-1.5",4,"ngIf"],["class","text-amber-400 flex items-center gap-1.5",4,"ngIf"],[1,"text-slate-600","w-16","text-right","font-mono","text-xs"],[1,"text-green-400","flex","items-center","gap-1.5"],[1,"w-1.5","h-1.5","bg-green-400","rounded-full","animate-pulse"],[1,"text-slate-500","flex","items-center","gap-1.5"],["name","check",1,"w-3","h-3"],[1,"text-amber-400","flex","items-center","gap-1.5"],["name","clock",1,"w-3","h-3"],[1,"px-4","py-8","text-center","text-slate-600","italic"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),o(4,"JOB ID"),t(),i(5,"span",4),o(6,"AGENT"),t(),i(7,"span"),o(8,"OPERATION"),t()(),i(9,"div",5)(10,"span",6),o(11,"STATUS"),t(),i(12,"span",7),o(13,"TIME"),t()()(),i(14,"div",8),p(15,ki,15,8,"div",9)(16,Ti,2,0,"div",10),t()()),e&2&&(d(15),c("ngForOf",a.items),d(),c("ngIf",a.items.length===0))},dependencies:[C,N,M,A,w,S],encapsulation:2})};var Ae=class r{metrics={status:"down",latency:0,uptime:0,activeAgents:0,totalDecisions:0};formatNumber(n){return n>=1e3?(n/1e3).toFixed(1)+"k":n.toString()}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=_({type:r,selectors:[["app-agent-health-panel"]],inputs:{metrics:"metrics"},decls:51,vars:4,consts:[[1,"bg-white","rounded-xl","border","border-slate-200","overflow-hidden","shadow-sm","mt-8"],[1,"bg-slate-50","px-6","py-3","border-b","border-slate-200","flex","items-center","justify-between"],[1,"flex","items-center","gap-2"],["name","activity",1,"w-4","h-4","text-slate-500"],[1,"text-xs","font-bold","uppercase","tracking-wider","text-slate-600"],[1,"flex","items-center","gap-2","text-xs"],[1,"flex","items-center","gap-1.5","px-2","py-0.5","rounded-full","bg-green-100","text-green-700","font-medium"],[1,"w-1.5","h-1.5","bg-green-500","rounded-full","animate-pulse"],[1,"text-slate-400"],[1,"grid","grid-cols-2","md:grid-cols-4","divide-x","divide-slate-100"],[1,"p-4","flex","items-center","gap-4"],[1,"w-10","h-10","rounded-full","bg-blue-50","text-blue-600","flex","items-center","justify-center"],["name","zap",1,"w-5","h-5"],[1,"text-2xl","font-mono","font-bold","text-slate-900"],[1,"text-sm","font-sans","text-slate-500","font-normal","ml-1"],[1,"text-xs","text-slate-500","font-medium","uppercase"],[1,"w-10","h-10","rounded-full","bg-green-50","text-green-600","flex","items-center","justify-center"],["name","server",1,"w-5","h-5"],[1,"w-10","h-10","rounded-full","bg-purple-50","text-purple-600","flex","items-center","justify-center"],["name","bot",1,"w-5","h-5"],[1,"w-10","h-10","rounded-full","bg-amber-50","text-amber-600","flex","items-center","justify-center"],["name","cpu",1,"w-5","h-5"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),l(3,"lucide-icon",3),i(4,"h3",4),o(5,"System Health & Performance"),t()(),i(6,"div",5)(7,"span",6),l(8,"span",7),o(9," Systems Operational "),t(),i(10,"span",8),o(11,"Last updated: Just now"),t()()(),i(12,"div",9)(13,"div",10)(14,"div",11),l(15,"lucide-icon",12),t(),i(16,"div")(17,"p",13),o(18),i(19,"span",14),o(20,"ms"),t()(),i(21,"p",15),o(22,"API Latency"),t()()(),i(23,"div",10)(24,"div",16),l(25,"lucide-icon",17),t(),i(26,"div")(27,"p",13),o(28),i(29,"span",14),o(30,"%"),t()(),i(31,"p",15),o(32,"Uptime (24h)"),t()()(),i(33,"div",10)(34,"div",18),l(35,"lucide-icon",19),t(),i(36,"div")(37,"p",13),o(38),i(39,"span",14),o(40,"/ 9"),t()(),i(41,"p",15),o(42,"Active Agents"),t()()(),i(43,"div",10)(44,"div",20),l(45,"lucide-icon",21),t(),i(46,"div")(47,"p",13),o(48),t(),i(49,"p",15),o(50,"Daily Decisions"),t()()()()()),e&2&&(d(18),v(a.metrics.latency),d(10),v(a.metrics.uptime),d(10),v(a.metrics.activeAgents),d(10),v(a.formatNumber(a.metrics.totalDecisions)))},dependencies:[C,w,S],encapsulation:2})};var Fi=()=>[];function Ni(r,n){if(r&1){let e=b();i(0,"app-capability-card",145),g("expand",function(){let s=f(e).$implicit,m=u();return h(m.onCardExpand(s.id))})("action",function(){let s=f(e).$implicit,m=u();return h(m.onCapabilityAction(s.id))}),t()}if(r&2){let e=n.$implicit,a=u();c("capability",e)("isExpanded",a.expandedCardId===e.id)}}var De=class r{navigateToCreate=new y;navigateToDraft=new y;difyService=R(we);capabilities$=this.difyService.getCapabilities();workItems$=this.difyService.getActiveWorkItems();healthMetrics$=this.difyService.getAgentHealth();expandedCardId=null;emptyMetrics={status:"down",latency:0,uptime:0,activeAgents:0,totalDecisions:0};constructor(){}ngOnInit(){}onCreateNew(){this.navigateToCreate.emit()}onContinueDraft(){this.navigateToDraft.emit()}onCardExpand(n){this.expandedCardId===n?this.expandedCardId=null:this.expandedCardId=n}onCapabilityAction(n){console.log("[DifyAgentService] Triggering capability:",n),n==="create_npa"&&this.onCreateNew()}onViewAll(n){console.log("Viewing all for section:",n)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=_({type:r,selectors:[["app-npa-dashboard"]],outputs:{navigateToCreate:"navigateToCreate",navigateToDraft:"navigateToDraft"},decls:434,vars:10,consts:[[1,"min-h-screen","bg-slate-50/50","pb-20","font-sans"],[1,"bg-white","border-b","border-gray-200","pt-8","pb-10","px-6","sm:px-10","shadow-sm","relative","overflow-hidden"],[1,"absolute","top-0","right-0","w-96","h-96","bg-blue-50","rounded-full","blur-3xl","opacity-50","-translate-y-1/2","translate-x-1/3","pointer-events-none"],[1,"max-w-7xl","mx-auto","flex","flex-col","md:flex-row","items-center","justify-between","gap-8","relative","z-10"],[1,"flex","items-start","gap-6"],[1,"relative","group","cursor-pointer"],[1,"w-20","h-20","rounded-2xl","bg-gradient-to-br","from-indigo-600","to-blue-600","flex","items-center","justify-center","shadow-lg","shadow-blue-200","ring-4","ring-white"],["name","bot",1,"w-10","h-10","text-white"],[1,"absolute","-bottom-1","-right-1","w-6","h-6","bg-white","rounded-full","flex","items-center","justify-center"],[1,"w-4","h-4","bg-green-500","rounded-full","ring-2","ring-white","animate-pulse"],[1,"space-y-3"],[1,"text-3xl","font-bold","text-slate-900","tracking-tight","flex","items-center","gap-3"],[1,"px-2.5","py-0.5","rounded-full","bg-blue-50","text-blue-700","text-xs","font-bold","border","border-blue-100","uppercase","tracking-wide"],[1,"text-lg","text-slate-500","max-w-2xl","leading-relaxed","mt-1"],[1,"flex","items-center","gap-6","text-sm","font-medium","text-slate-600","bg-slate-50","inline-flex","px-4","py-2","rounded-lg","border","border-slate-200/60"],[1,"flex","items-center","gap-1.5","hover:text-indigo-600","transition-colors","cursor-help"],["name","database",1,"w-4","h-4","text-indigo-500"],[1,"w-px","h-4","bg-slate-300"],[1,"flex","items-center","gap-1.5","hover:text-green-600","transition-colors","cursor-help"],["name","zap",1,"w-4","h-4","text-amber-500"],[1,"flex","items-center","gap-1.5","hover:text-purple-600","transition-colors","cursor-help"],["name","brain-circuit",1,"w-4","h-4","text-purple-500"],[1,"flex","flex-col","gap-3","w-full","md:w-auto"],[1,"group","relative","inline-flex","items-center","justify-center","gap-3","px-8","py-4","bg-slate-900","hover:bg-slate-800","text-white","rounded-xl","font-bold","text-lg","shadow-xl","shadow-slate-200","transition-all","transform","hover:-translate-y-0.5","active:translate-y-0","focus:ring-4","focus:ring-slate-100",3,"click"],["name","message-square",1,"w-6","h-6"],[1,"absolute","right-0","top-0","-mt-1","-mr-1","flex","h-3","w-3"],[1,"animate-ping","absolute","inline-flex","h-full","w-full","rounded-full","bg-sky-400","opacity-75"],[1,"relative","inline-flex","rounded-full","h-3","w-3","bg-sky-500"],[1,"grid","grid-cols-2","gap-2"],[1,"px-4","py-2","bg-white","border","border-slate-200","text-slate-600","rounded-lg","text-sm","font-semibold","hover:bg-slate-50","hover:text-slate-900","transition-colors","flex","items-center","justify-center","gap-2",3,"click"],["name","file-edit",1,"w-3.5","h-3.5"],[1,"px-4","py-2","bg-white","border","border-slate-200","text-slate-600","rounded-lg","text-sm","font-semibold","hover:bg-slate-50","hover:text-slate-900","transition-colors","flex","items-center","justify-center","gap-2"],["name","search",1,"w-3.5","h-3.5"],[1,"max-w-7xl","mx-auto","px-6","sm:px-10","space-y-12","mt-12"],[3,"metrics"],[1,"flex","items-center","gap-3","mb-6"],[1,"p-2","bg-blue-100","text-blue-700","rounded-lg"],["name","target",1,"w-5","h-5"],[1,"text-sm","font-bold","text-slate-700","uppercase","tracking-widest"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-5"],[3,"capability","isExpanded","expand","action",4,"ngFor","ngForOf"],[1,"p-2","bg-indigo-100","text-indigo-700","rounded-lg"],["name","bot",1,"w-5","h-5"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-4"],[1,"bg-white","rounded-lg","p-4","border","border-slate-200","shadow-sm","flex","items-center","gap-3"],[1,"w-10","h-10","rounded-full","bg-indigo-50","text-indigo-600","flex","items-center","justify-center","border","border-indigo-100"],["name","lightbulb",1,"w-5","h-5"],[1,"font-bold","text-sm","text-slate-700"],[1,"text-[10px]","text-slate-500","uppercase","tracking-wide","font-semibold","text-green-600"],[1,"w-10","h-10","rounded-full","bg-purple-50","text-purple-600","flex","items-center","justify-center","border","border-purple-100"],["name","git-branch",1,"w-5","h-5"],[1,"w-10","h-10","rounded-full","bg-blue-50","text-blue-600","flex","items-center","justify-center","border","border-blue-100"],["name","file-edit",1,"w-5","h-5"],[1,"w-10","h-10","rounded-full","bg-amber-50","text-amber-600","flex","items-center","justify-center","border","border-amber-100"],["name","trending-up",1,"w-5","h-5"],[1,"w-10","h-10","rounded-full","bg-fuchsia-50","text-fuchsia-600","flex","items-center","justify-center","border","border-fuchsia-100"],["name","search",1,"w-5","h-5"],[1,"w-10","h-10","rounded-full","bg-cyan-50","text-cyan-600","flex","items-center","justify-center","border","border-cyan-100"],["name","message-square",1,"w-5","h-5"],[1,"w-10","h-10","rounded-full","bg-slate-50","text-slate-600","flex","items-center","justify-center","border","border-slate-100"],["name","workflow",1,"w-5","h-5"],[1,"text-[10px]","text-slate-500","uppercase","tracking-wide","font-semibold","text-green-600","animate-pulse"],[1,"w-10","h-10","rounded-full","bg-red-50","text-red-600","flex","items-center","justify-center","border","border-red-100"],["name","shield-alert",1,"w-5","h-5"],[1,"flex","items-center","justify-between","mb-6"],[1,"flex","items-center","gap-3"],[1,"p-2","bg-slate-200","text-slate-700","rounded-lg"],["name","layers",1,"w-5","h-5"],[1,"grid","grid-cols-2","md:grid-cols-3","lg:grid-cols-5","gap-3"],[1,"bg-slate-50","border","border-slate-200","rounded-lg","p-3","hover:bg-white","hover:border-slate-300","transition-colors","group"],[1,"flex","items-center","justify-between","mb-2"],[1,"p-1","rounded","bg-white","border","border-slate-200","shadow-sm","text-indigo-600"],["name","brain-circuit",1,"w-3.5","h-3.5"],[1,"w-2","h-2","rounded-full","bg-green-500","shadow-sm","shadow-green-200"],[1,"font-bold","text-xs","text-slate-700"],[1,"mt-2","space-y-1"],[1,"flex","justify-between","text-[10px]","text-slate-500"],[1,"font-mono","text-slate-900"],[1,"p-1","rounded","bg-white","border","border-slate-200","shadow-sm","text-blue-600"],["name","scan-search",1,"w-3.5","h-3.5"],[1,"p-1","rounded","bg-white","border","border-slate-200","shadow-sm","text-slate-600"],["name","workflow",1,"w-3.5","h-3.5"],[1,"p-1","rounded","bg-white","border","border-slate-200","shadow-sm","text-amber-600"],["name","link-2",1,"w-3.5","h-3.5"],[1,"p-1","rounded","bg-white","border","border-slate-200","shadow-sm","text-red-600"],["name","shield-check",1,"w-3.5","h-3.5"],[1,"p-1","rounded","bg-white","border","border-slate-200","shadow-sm","text-pink-600"],["name","bell",1,"w-3.5","h-3.5"],[1,"p-1","rounded","bg-white","border","border-slate-200","shadow-sm","text-sky-600"],["name","bar-chart-2",1,"w-3.5","h-3.5"],[1,"p-1","rounded","bg-white","border","border-slate-200","shadow-sm","text-lime-600"],["name","refresh-cw",1,"w-3.5","h-3.5"],[1,"p-1","rounded","bg-white","border","border-slate-200","shadow-sm","text-violet-600"],["name","server",1,"w-3.5","h-3.5"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-8","items-stretch"],[1,"h-full","flex","flex-col"],[1,"p-2","bg-purple-100","text-purple-700","rounded-lg"],["name","book-open",1,"w-5","h-5"],[1,"text-xs","font-bold","text-purple-600","bg-purple-50","border","border-purple-100","px-3","py-1.5","rounded-lg","hover:bg-purple-100","transition-colors","flex","items-center","gap-1.5",3,"click"],["name","plus",1,"w-3","h-3"],[1,"bg-white","border","border-slate-200","rounded-xl","overflow-hidden","shadow-sm","flex-1","flex","flex-col"],[1,"divide-y","divide-slate-100"],[1,"p-4","flex","items-center","justify-between","hover:bg-slate-50","transition-colors","cursor-pointer","group"],[1,"flex","items-center","gap-4"],[1,"w-10","h-10","rounded-lg","bg-indigo-50","text-indigo-600","flex","items-center","justify-center","border","border-indigo-100"],["name","database",1,"w-5","h-5"],[1,"text-sm","font-bold","text-slate-900","group-hover:text-indigo-600"],[1,"text-xs","text-slate-500"],[1,"px-2","py-0.5","rounded","text-[10px]","font-bold","bg-green-100","text-green-700"],["name","chevron-right",1,"w-4","h-4","text-slate-300","group-hover:text-indigo-400"],[1,"w-10","h-10","rounded-lg","bg-orange-50","text-orange-600","flex","items-center","justify-center","border","border-orange-100"],["name","file-text",1,"w-5","h-5"],[1,"text-sm","font-bold","text-slate-900","group-hover:text-orange-600"],["name","chevron-right",1,"w-4","h-4","text-slate-300","group-hover:text-orange-400"],[1,"w-10","h-10","rounded-lg","bg-cyan-50","text-cyan-600","flex","items-center","justify-center","border","border-cyan-100"],["name","layout",1,"w-5","h-5"],[1,"text-sm","font-bold","text-slate-900","group-hover:text-cyan-600"],["name","chevron-right",1,"w-4","h-4","text-slate-300","group-hover:text-cyan-400"],[1,"w-10","h-10","rounded-lg","bg-emerald-50","text-emerald-600","flex","items-center","justify-center","border","border-emerald-100"],["name","tag",1,"w-5","h-5"],[1,"text-sm","font-bold","text-slate-900","group-hover:text-emerald-600"],["name","chevron-right",1,"w-4","h-4","text-slate-300","group-hover:text-emerald-400"],[1,"bg-slate-50","px-4","py-2","border-t","border-slate-200","text-center","mt-auto"],[1,"text-xs","font-semibold","text-slate-500","hover:text-slate-800","flex","items-center","justify-center","gap-1","w-full",3,"click"],["name","arrow-right",1,"w-3","h-3"],[1,"p-2","bg-amber-100","text-amber-700","rounded-lg"],[1,"text-xs","font-bold","text-amber-600","bg-amber-50","border","border-amber-100","px-3","py-1.5","rounded-lg","hover:bg-amber-100","transition-colors","flex","items-center","gap-1.5",3,"click"],[1,"p-4","space-y-4","flex-1"],[1,"flex","items-center","justify-between"],[1,"w-8","h-8","rounded","bg-slate-100","flex","items-center","justify-center","text-slate-600"],["name","activity",1,"w-4","h-4"],[1,"text-sm","font-bold","text-slate-900"],[1,"text-[10px]","text-slate-500"],[1,"w-2.5","h-2.5","rounded-full","bg-green-500","animate-pulse"],[1,"w-full","h-px","bg-slate-100"],["name","shield",1,"w-4","h-4"],[1,"w-2.5","h-2.5","rounded-full","bg-green-500"],["name","share-2",1,"w-4","h-4"],[1,"w-2.5","h-2.5","rounded-full","bg-yellow-400","animate-pulse"],[1,"flex","items-center","justify-between","opacity-60"],["name","send",1,"w-4","h-4"],[1,"w-2.5","h-2.5","rounded-full","bg-slate-300"],[1,"p-2","bg-sky-100","text-sky-700","rounded-lg"],["name","cpu",1,"w-5","h-5"],[3,"items"],[3,"expand","action","capability","isExpanded"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"div",1),l(2,"div",2),i(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),l(7,"lucide-icon",7),t(),i(8,"div",8),l(9,"div",9),t()(),i(10,"div",10)(11,"div")(12,"h1",11),o(13," NPA Agent "),i(14,"span",12),o(15,"v2.1 Online"),t()(),i(16,"p",13),o(17," Your AI assistant for New Product Approvals. I can create NPAs, predict outcomes, validate docs, and orchestrate approvals associated with Dify Agents. "),t()(),i(18,"div",14)(19,"span",15),l(20,"lucide-icon",16),o(21," 1,784 NPAs Learned "),t(),l(22,"div",17),i(23,"span",18),l(24,"lucide-icon",19),o(25," 95% Success Rate "),t(),l(26,"div",17),i(27,"span",20),l(28,"lucide-icon",21),o(29," 92% Prediction Accuracy "),t()()()(),i(30,"div",22)(31,"button",23),g("click",function(){return a.onCreateNew()}),l(32,"lucide-icon",24),o(33," Chat with Agent "),i(34,"span",25),l(35,"span",26)(36,"span",27),t()(),i(37,"div",28)(38,"button",29),g("click",function(){return a.onContinueDraft()}),l(39,"lucide-icon",30),o(40," Continue Draft "),t(),i(41,"button",31),l(42,"lucide-icon",32),o(43," Search KB "),t()()()()(),i(44,"div",33)(45,"section"),l(46,"app-agent-health-panel",34),z(47,"async"),t(),i(48,"section")(49,"div",35)(50,"div",36),l(51,"lucide-icon",37),t(),i(52,"h2",38),o(53," Agent Capabilities "),t()(),i(54,"div",39),p(55,Ni,1,2,"app-capability-card",40),z(56,"async"),t()(),i(57,"section")(58,"div",35)(59,"div",41),l(60,"lucide-icon",42),t(),i(61,"h2",38),o(62," NPA Task Agents (Domain Workers) "),t()(),i(63,"div",43)(64,"div",44)(65,"div",45),l(66,"lucide-icon",46),t(),i(67,"div")(68,"h4",47),o(69,"Product Ideation"),t(),i(70,"p",48),o(71,"Idle"),t()()(),i(72,"div",44)(73,"div",49),l(74,"lucide-icon",50),t(),i(75,"div")(76,"h4",47),o(77,"Class. Router"),t(),i(78,"p",48),o(79,"Active"),t()()(),i(80,"div",44)(81,"div",51),l(82,"lucide-icon",52),t(),i(83,"div")(84,"h4",47),o(85,"Template Auto-Fill"),t(),i(86,"p",48),o(87,"Idle"),t()()(),i(88,"div",44)(89,"div",53),l(90,"lucide-icon",54),t(),i(91,"div")(92,"h4",47),o(93,"ML Prediction"),t(),i(94,"p",48),o(95,"Idle"),t()()(),i(96,"div",44)(97,"div",55),l(98,"lucide-icon",56),t(),i(99,"div")(100,"h4",47),o(101,"KB Search"),t(),i(102,"p",48),o(103,"Idle"),t()()(),i(104,"div",44)(105,"div",57),l(106,"lucide-icon",58),t(),i(107,"div")(108,"h4",47),o(109,"Conv. Diligence"),t(),i(110,"p",48),o(111,"Idle"),t()()(),i(112,"div",44)(113,"div",59),l(114,"lucide-icon",60),t(),i(115,"div")(116,"h4",47),o(117,"Appr. Orchestrator"),t(),i(118,"p",61),o(119,"Orchestrating"),t()()(),i(120,"div",44)(121,"div",62),l(122,"lucide-icon",63),t(),i(123,"div")(124,"h4",47),o(125,"Prohibited List"),t(),i(126,"p",48),o(127,"Idle"),t()()()()(),i(128,"section")(129,"div",64)(130,"div",65)(131,"div",66),l(132,"lucide-icon",67),t(),i(133,"h2",38),o(134," Shared Utility Agents "),t()()(),i(135,"div",68)(136,"div",69)(137,"div",70)(138,"span",71),l(139,"lucide-icon",72),t(),l(140,"div",73),t(),i(141,"h4",74),o(142,"RAG Engine"),t(),i(143,"div",75)(144,"div",76)(145,"span"),o(146,"Queries"),t(),i(147,"span",77),o(148,"234"),t()(),i(149,"div",76)(150,"span"),o(151,"Hit Rate"),t(),i(152,"span",77),o(153,"94%"),t()()()(),i(154,"div",69)(155,"div",70)(156,"span",78),l(157,"lucide-icon",79),t(),l(158,"div",73),t(),i(159,"h4",74),o(160,"Doc Processing"),t(),i(161,"div",75)(162,"div",76)(163,"span"),o(164,"Parsed"),t(),i(165,"span",77),o(166,"89"),t()(),i(167,"div",76)(168,"span"),o(169,"Speed"),t(),i(170,"span",77),o(171,"8s"),t()()()(),i(172,"div",69)(173,"div",70)(174,"span",80),l(175,"lucide-icon",81),t(),l(176,"div",73),t(),i(177,"h4",74),o(178,"State Manager"),t(),i(179,"div",75)(180,"div",76)(181,"span"),o(182,"Active"),t(),i(183,"span",77),o(184,"23"),t()(),i(185,"div",76)(186,"span"),o(187,"Loops"),t(),i(188,"span",77),o(189,"2"),t()()()(),i(190,"div",69)(191,"div",70)(192,"span",82),l(193,"lucide-icon",83),t(),l(194,"div",73),t(),i(195,"h4",74),o(196,"Integration"),t(),i(197,"div",75)(198,"div",76)(199,"span"),o(200,"Calls"),t(),i(201,"span",77),o(202,"456"),t()(),i(203,"div",76)(204,"span"),o(205,"Latency"),t(),i(206,"span",77),o(207,"320ms"),t()()()(),i(208,"div",69)(209,"div",70)(210,"span",84),l(211,"lucide-icon",85),t(),l(212,"div",73),t(),i(213,"h4",74),o(214,"Audit Logger"),t(),i(215,"div",75)(216,"div",76)(217,"span"),o(218,"Logs"),t(),i(219,"span",77),o(220,"3.4k"),t()(),i(221,"div",76)(222,"span"),o(223,"Coverage"),t(),i(224,"span",77),o(225,"100%"),t()()()(),i(226,"div",69)(227,"div",70)(228,"span",86),l(229,"lucide-icon",87),t(),l(230,"div",73),t(),i(231,"h4",74),o(232,"Notification"),t(),i(233,"div",75)(234,"div",76)(235,"span"),o(236,"Sent"),t(),i(237,"span",77),o(238,"892"),t()(),i(239,"div",76)(240,"span"),o(241,"Open Rate"),t(),i(242,"span",77),o(243,"68%"),t()()()(),i(244,"div",69)(245,"div",70)(246,"span",88),l(247,"lucide-icon",89),t(),l(248,"div",73),t(),i(249,"h4",74),o(250,"Analytics"),t(),i(251,"div",75)(252,"div",76)(253,"span"),o(254,"Metrics"),t(),i(255,"span",77),o(256,"45"),t()(),i(257,"div",76)(258,"span"),o(259,"Real-time"),t(),i(260,"span",77),o(261,"Yes"),t()()()(),i(262,"div",69)(263,"div",70)(264,"span",90),l(265,"lucide-icon",91),t(),l(266,"div",73),t(),i(267,"h4",74),o(268,"Loop-Back"),t(),i(269,"div",75)(270,"div",76)(271,"span"),o(272,"Retries"),t(),i(273,"span",77),o(274,"12"),t()(),i(275,"div",76)(276,"span"),o(277,"Resolved"),t(),i(278,"span",77),o(279,"100%"),t()()()(),i(280,"div",69)(281,"div",70)(282,"span",92),l(283,"lucide-icon",93),t(),l(284,"div",73),t(),i(285,"h4",74),o(286,"Data Retrieval"),t(),i(287,"div",75)(288,"div",76)(289,"span"),o(290,"Sources"),t(),i(291,"span",77),o(292,"8"),t()(),i(293,"div",76)(294,"span"),o(295,"Cache"),t(),i(296,"span",77),o(297,"HIT"),t()()()()()(),i(298,"div",94)(299,"section",95)(300,"div",64)(301,"div",65)(302,"div",96),l(303,"lucide-icon",97),t(),i(304,"h2",38),o(305," Linked Knowledge Bases "),t()(),i(306,"button",98),g("click",function(){return a.onCreateNew()}),l(307,"lucide-icon",99),o(308," Add KB "),t()(),i(309,"div",100)(310,"div",101)(311,"div",102)(312,"div",103)(313,"div",104),l(314,"lucide-icon",105),t(),i(315,"div")(316,"h4",106),o(317,"Historical NPAs"),t(),i(318,"p",107),o(319,"1,784 records \u2022 Vector Embeddings \u2022 Updated 2h ago"),t()()(),i(320,"div",65)(321,"span",108),o(322,"SYNCED"),t(),l(323,"lucide-icon",109),t()(),i(324,"div",102)(325,"div",103)(326,"div",110),l(327,"lucide-icon",111),t(),i(328,"div")(329,"h4",112),o(330,"Policy Documents"),t(),i(331,"p",107),o(332,"MAS 656, DBS Risk Framework \u2022 200+ Docs"),t()()(),i(333,"div",65)(334,"span",108),o(335,"SYNCED"),t(),l(336,"lucide-icon",113),t()(),i(337,"div",102)(338,"div",103)(339,"div",114),l(340,"lucide-icon",115),t(),i(341,"div")(342,"h4",116),o(343,"Templates Library"),t(),i(344,"p",107),o(345,"15 Forms \u2022 Auto-fill ready (47 fields)"),t()()(),i(346,"div",65)(347,"span",108),o(348,"SYNCED"),t(),l(349,"lucide-icon",117),t()(),i(350,"div",102)(351,"div",103)(352,"div",118),l(353,"lucide-icon",119),t(),i(354,"div")(355,"h4",120),o(356,"Product Classifications"),t(),i(357,"p",107),o(358,"Taxonomy, Asset Classes \u2022 Updated Today"),t()()(),i(359,"div",65)(360,"span",108),o(361,"SYNCED"),t(),l(362,"lucide-icon",121),t()()(),i(363,"div",122)(364,"button",123),g("click",function(){return a.onViewAll("kb")}),o(365," View All Knowledge Sources "),l(366,"lucide-icon",124),t()()()(),i(367,"section",95)(368,"div",64)(369,"div",65)(370,"div",125),l(371,"lucide-icon",105),t(),i(372,"h2",38),o(373," Connected Services "),t()(),i(374,"button",126),g("click",function(){return a.onCreateNew()}),l(375,"lucide-icon",99),o(376," Add Service "),t()(),i(377,"div",100)(378,"div",127)(379,"div",128)(380,"div",65)(381,"div",129),l(382,"lucide-icon",130),t(),i(383,"div")(384,"p",131),o(385,"Bloomberg API"),t(),i(386,"p",132),o(387,"Market Data \u2022 14ms"),t()()(),l(388,"div",133),t(),l(389,"div",134),i(390,"div",128)(391,"div",65)(392,"div",129),l(393,"lucide-icon",135),t(),i(394,"div")(395,"p",131),o(396,"Policy Engine"),t(),i(397,"p",132),o(398,"Regulatory \u2022 Online"),t()()(),l(399,"div",136),t(),l(400,"div",134),i(401,"div",128)(402,"div",65)(403,"div",129),l(404,"lucide-icon",137),t(),i(405,"div")(406,"p",131),o(407,"SharePoint"),t(),i(408,"p",132),o(409,"Docs \u2022 Syncing..."),t()()(),l(410,"div",138),t(),l(411,"div",134),i(412,"div",139)(413,"div",65)(414,"div",129),l(415,"lucide-icon",140),t(),i(416,"div")(417,"p",131),o(418,"SendGrid"),t(),i(419,"p",132),o(420,"Email \u2022 Idle"),t()()(),l(421,"div",141),t()(),i(422,"div",122)(423,"button",123),g("click",function(){return a.onViewAll("services")}),o(424," View All Connected Services "),l(425,"lucide-icon",124),t()()()()(),i(426,"section")(427,"div",35)(428,"div",142),l(429,"lucide-icon",143),t(),i(430,"h2",38),o(431," Active Agent Work Items "),t()(),l(432,"app-work-item-list",144),z(433,"async"),t()()()),e&2&&(d(46),c("metrics",ge(47,3,a.healthMetrics$)||a.emptyMetrics),d(9),c("ngForOf",ge(56,5,a.capabilities$)),d(377),c("items",ge(433,7,a.workItems$)||et(9,Fi)))},dependencies:[C,M,w,S,ct,Se,Ee,Ae,lt],styles:["[_nghost-%COMP%]{display:block}"]})};function Oi(r,n){if(r&1){let e=b();i(0,"a",28),g("click",function(){let s=f(e).$implicit,m=u();return h(m.scrollToSection(s.id))}),l(1,"span",29),o(2),t()}if(r&2){let e=n.$implicit,a=u();V("bg-blue-50",a.activeSection===e.id)("text-blue-700",a.activeSection===e.id),d(),V("bg-blue-600",a.activeSection===e.id),d(),x(" ",e.title," ")}}function Pi(r,n){if(r&1&&(i(0,"p",45),o(1),t()),r&2){let e=u().$implicit;d(),v(e.description)}}function Ri(r,n){r&1&&(i(0,"span",59),o(1,"*"),t())}function Li(r,n){if(r&1&&(i(0,"div",60)(1,"div",61),l(2,"lucide-icon",62),t(),i(3,"div")(4,"p",63),o(5),t(),i(6,"p",64),o(7,"Drag or click to browse"),t()()()),r&2){let e=u().$implicit,a=u(2);V("ring-2",(a.focusedField==null?null:a.focusedField.key)===e.key)("ring-blue-500",(a.focusedField==null?null:a.focusedField.key)===e.key),d(5),x("Upload ",e.label)}}function ji(r,n){if(r&1){let e=b();i(0,"input",65),q("ngModelChange",function(s){f(e);let m=u().$implicit;return $(m.value,s)||(m.value=s),h(s)}),t()}if(r&2){let e=u().$implicit,a=u(2);W("ngModel",e.value),c("type",e.type||"text")("placeholder",e.placeholder||"")("ngClass",a.getInputStyles(e.lineage,(a.focusedField==null?null:a.focusedField.key)===e.key))}}function Bi(r,n){if(r&1){let e=b();i(0,"textarea",66),q("ngModelChange",function(s){f(e);let m=u().$implicit;return $(m.value,s)||(m.value=s),h(s)}),t()}if(r&2){let e=u().$implicit,a=u(2);W("ngModel",e.value),c("placeholder",e.placeholder||"")("ngClass",a.getInputStyles(e.lineage,(a.focusedField==null?null:a.focusedField.key)===e.key))}}function Gi(r,n){r&1&&l(0,"lucide-icon",67)}function Ui(r,n){r&1&&l(0,"lucide-icon",68)}function Hi(r,n){r&1&&l(0,"lucide-icon",69)}function Wi(r,n){if(r&1){let e=b();i(0,"div",46)(1,"div",47)(2,"label",48),o(3),p(4,Ri,2,0,"span",49),t()(),i(5,"div",50),g("click",function(){let s=f(e).$implicit,m=u(2);return h(m.onFieldFocus(s))}),p(6,Li,8,5,"div",51)(7,ji,1,4,"input",52)(8,Bi,1,3,"textarea",53),i(9,"div",54),Oe(10,55),p(11,Gi,1,0,"lucide-icon",56)(12,Ui,1,0,"lucide-icon",57)(13,Hi,1,0,"lucide-icon",58),Pe(),t()()()}if(r&2){let e=n.$implicit;V("md:col-span-2",e.type==="textarea"),d(3),x(" ",e.label," "),d(),c("ngIf",e.required),d(2),c("ngIf",e.type==="file"),d(),c("ngIf",e.type!=="textarea"&&e.type!=="file"),d(),c("ngIf",e.type==="textarea"),d(2),c("ngSwitch",e.lineage),d(),c("ngSwitchCase","AUTO"),d(),c("ngSwitchCase","ADAPTED"),d(),c("ngSwitchCase","MANUAL")}}function $i(r,n){r&1&&(i(0,"button",70),o(1,"Post"),t())}function qi(r,n){if(r&1){let e=b();i(0,"div",30)(1,"div",31)(2,"div")(3,"h3",32),o(4),t(),p(5,Pi,2,1,"p",33),t()(),i(6,"div",34),p(7,Wi,14,11,"div",35),t(),i(8,"div",36)(9,"button",37),l(10,"lucide-icon",38),i(11,"span",39),o(12,"Attach"),t()(),l(13,"div",40),i(14,"div",41)(15,"div",42),o(16,"JD"),t(),i(17,"input",43),q("ngModelChange",function(s){let m=f(e).$implicit;return $(m.comments,s)||(m.comments=s),h(s)}),t(),p(18,$i,2,0,"button",44),t()()()}if(r&2){let e=n.$implicit;c("id","sec-"+e.id),d(4),v(e.title),d(),c("ngIf",e.description),d(2),c("ngForOf",e.fields),d(10),W("ngModel",e.comments),d(),c("ngIf",e.comments)}}function zi(r,n){if(r&1&&(i(0,"span",84),o(1),t()),r&2){let e=u(2);d(),x(" ",e.focusedField.lineageMetadata==null?null:e.focusedField.lineageMetadata.confidenceScore,"% Confidence ")}}function Ki(r,n){if(r&1&&(i(0,"div",90)(1,"div",91),l(2,"lucide-icon",92),i(3,"div")(4,"p",93),o(5,"Adaptation Logic"),t(),i(6,"p",94),o(7),t()()()()),r&2){let e=u(3);d(7),v(e.focusedField.lineageMetadata==null?null:e.focusedField.lineageMetadata.adaptationLogic)}}function Yi(r,n){if(r&1&&(i(0,"div")(1,"p",95),o(2),t(),i(3,"div",96),o(4),i(5,"div",97),l(6,"lucide-icon",98),t()()()),r&2){let e=u(3);d(2),x("Original Source (",e.focusedField.lineageMetadata==null?null:e.focusedField.lineageMetadata.sourceDocId,")"),d(2),x(' "',e.focusedField.lineageMetadata==null?null:e.focusedField.lineageMetadata.sourceSnippet,'" ')}}function Xi(r,n){if(r&1&&(i(0,"div",85),p(1,Ki,8,1,"div",86)(2,Yi,7,2,"div",27),i(3,"div",87)(4,"button",88),l(5,"lucide-icon",89),o(6," View Full Source Doc "),t()()()),r&2){let e=u(2);d(),c("ngIf",e.focusedField.lineageMetadata==null?null:e.focusedField.lineageMetadata.adaptationLogic),d(),c("ngIf",e.focusedField.lineageMetadata==null?null:e.focusedField.lineageMetadata.sourceSnippet)}}function Ji(r,n){if(r&1&&(i(0,"div",99)(1,"div",100)(2,"div",101),l(3,"lucide-icon",102),t(),i(4,"h4",103),o(5,"Need help writing this?"),t(),i(6,"p",104),o(7),t(),i(8,"button",105),o(9," Ask Agent to Draft "),t()()()),r&2){let e=u(2);d(7),v((e.focusedField.lineageMetadata==null?null:e.focusedField.lineageMetadata.agentTip)||"I can search KB for similar clauses.")}}function Qi(r,n){if(r&1){let e=b();Oe(0),i(1,"div",71)(2,"h3",72),l(3,"lucide-icon",73),o(4," Source Inspector "),t(),i(5,"button",74),g("click",function(){f(e);let s=u();return h(s.focusedField=null)}),l(6,"lucide-icon",75),t()(),i(7,"div",76)(8,"div",77)(9,"p",78),o(10,"Field Name"),t(),i(11,"h2",32),o(12),t(),i(13,"div",79)(14,"span",80),o(15),t(),p(16,zi,2,1,"span",81),t()(),p(17,Xi,7,2,"div",82)(18,Ji,10,1,"div",83),t(),Pe()}if(r&2){let e=u();d(12),v(e.focusedField.label),d(2),V("bg-green-100",e.focusedField.lineage==="AUTO")("text-green-700",e.focusedField.lineage==="AUTO")("bg-amber-100",e.focusedField.lineage==="ADAPTED")("text-amber-700",e.focusedField.lineage==="ADAPTED")("bg-red-100",e.focusedField.lineage==="MANUAL")("text-red-700",e.focusedField.lineage==="MANUAL"),d(),x(" ",e.focusedField.lineage," "),d(),c("ngIf",e.focusedField.lineageMetadata==null?null:e.focusedField.lineageMetadata.confidenceScore),d(),c("ngIf",e.focusedField.lineage!=="MANUAL"),d(),c("ngIf",e.focusedField.lineage==="MANUAL")}}var Me=class r{close=new y;activeSection="spec";focusedField=null;sections=[{id:"spec",title:"1. Product & Business Case",description:"Core details defining the product structure and economics.",fields:[{key:"name",label:"Product Name",value:"FX Put Option GBP/USD",lineage:"AUTO",lineageMetadata:{sourceDocId:"TSG1917",sourceSnippet:"Product Name: FX Put Option EUR/USD",confidenceScore:98}},{key:"type",label:"Product Type",value:"FX Option",lineage:"AUTO",lineageMetadata:{sourceDocId:"Classification Agent",sourceSnippet:'Classified as FX Option based on "Put Option" keyword.',confidenceScore:99}},{key:"desk",label:"Booking Desk",value:"Singapore FX",lineage:"AUTO"},{key:"bu",label:"Business Unit",value:"Treasury & Markets",lineage:"AUTO",lineageMetadata:{sourceDocId:"TSG1917",sourceSnippet:"Business Unit: Treasury & Markets",confidenceScore:100}},{key:"notional",label:"Notional Amount",value:"$75,000,000",lineage:"AUTO",lineageMetadata:{sourceDocId:"Term Sheet",sourceSnippet:"Notional: USD 75M",confidenceScore:100}},{key:"tenor",label:"Tenor",value:"6 Months",lineage:"AUTO"},{key:"counterparty",label:"Counterparty Name",value:"",lineage:"MANUAL",placeholder:"Enter Legal Entity Name",required:!0,lineageMetadata:{agentTip:"I can search Salesforce for recent counterparties in Hong Kong."}},{key:"tradeDate",label:"Trade Date",value:"",lineage:"MANUAL",type:"date",required:!0}]},{id:"ops",title:"2. Operational & Technology",description:"Systems and processes for booking, valuation, and settlement.",fields:[{key:"system",label:"Booking System",value:"Murex",lineage:"AUTO",lineageMetadata:{sourceDocId:"TSG1917",sourceSnippet:"Booking System: Murex (Version 3.1)",confidenceScore:95}},{key:"valuation",label:"Valuation Model",value:"Black-Scholes",lineage:"AUTO",lineageMetadata:{sourceDocId:"TSG1917",sourceSnippet:"Valuation: Black-Scholes Standard Model",confidenceScore:95}},{key:"settlement",label:"Settlement Method",value:"Cash (USD) via CLS",lineage:"AUTO"},{key:"conf",label:"Confirmation Process",value:"SWIFT MT300",lineage:"AUTO"}]},{id:"pricing",title:"3. Pricing Model",description:"Methodology for fair value and risk sensitivity.",fields:[{key:"method",label:"Pricing Methodology",value:"Mid-market + bid-offer spread",lineage:"AUTO"},{key:"roae",label:"ROAE Sensitivity Analysis",value:"Sensitivity: 10bps move = $85k impact...",lineage:"ADAPTED",type:"textarea",lineageMetadata:{sourceDocId:"Finance Policy 2024",sourceSnippet:"Deals > $50M Notional require ROAE sensitivity.",adaptationLogic:"Triggered by Rule: Notional > $50M. Template inserted for user completion.",confidenceScore:90}},{key:"bespoke",label:"Bespoke Adjustments",value:"",lineage:"MANUAL",type:"textarea",placeholder:"Describe any non-standard pricing logic..."}]},{id:"risk",title:"4. Risk Assessments",description:"Evaluation of market, credit, listing, and operational risks.",fields:[{key:"market",label:"Market Risk",value:"Moderate-to-High. Notional represents 4.5% of desk book. Daily VaR estimated at $360k.",lineage:"ADAPTED",type:"textarea",lineageMetadata:{sourceDocId:"TSG1917",sourceSnippet:"Daily VaR: $180k (based on $25M Notional).",adaptationLogic:"Scaled VaR linearly from $25M \u2192 $75M. Risk rating bumped from Moderate to Moderate-High due to >4% Book limit.",confidenceScore:85}},{key:"credit",label:"Credit Risk",value:"Counterparty rated A- (S&P). Weekly collateral exchange required per CSA.",lineage:"ADAPTED",type:"textarea",lineageMetadata:{sourceDocId:"Credit Matrix",sourceSnippet:"Rating: BBB+ requires Daily collateral.",adaptationLogic:"Adjusted collateral frequency to Weekly based on improved Rating (A-).",confidenceScore:92}},{key:"ops_risk",label:"Operational Risk",value:"Moderate. Cross-border booking (SG-HK) requires manual month-end reconciliation.",lineage:"ADAPTED",type:"textarea",lineageMetadata:{sourceDocId:"Ops Policy: Branch",sourceSnippet:"Single entity booking: Low Risk.",adaptationLogic:"Inserted Cross-Border Clause due to SG Desk + HK Counterparty.",confidenceScore:95}}]},{id:"reg",title:"5. Regulatory Requirements",description:"Compliance with local and international regulations.",fields:[{key:"mas656",label:"Applicable Regulations",value:"MAS 656, CFTC Part 20, EMIR",lineage:"AUTO"},{key:"reporting",label:"Reporting Obligations",value:"DTCC SDR Reporting required within T+1",lineage:"AUTO"}]},{id:"signoff",title:"6. Sign-Off Matrix",description:"Required approvers based on product classification.",fields:[{key:"parties",label:"Required Sign-Offs",value:"RMG-Credit, Finance (Product Control), Finance VP, Market Risk, Ops, Technology",lineage:"ADAPTED",type:"textarea",lineageMetadata:{sourceDocId:"Classification Agent",sourceSnippet:"Standard Sign-offs: Credit, Finance, MLR.",adaptationLogic:'Added "Finance VP" (Notional > $50M) and "Ops/Tech" (Cross-Border Rule).',confidenceScore:100}},{key:"timeline",label:"Est. Approval Timeline",value:"4-5 Days",lineage:"AUTO",tooltip:"Predicted by ML Agent"}]},{id:"legal",title:"7. Legal Considerations",fields:[{key:"law",label:"Governing Law",value:"Singapore Law",lineage:"AUTO"},{key:"docs",label:"Documentation",value:"ISDA Master Agreement (2002)",lineage:"AUTO"},{key:"special",label:"Special Provisions",value:"",lineage:"MANUAL",type:"textarea"}]},{id:"attachments",title:"8. Supporting Documents",description:"Attach any relevant files, term sheets, or email approvals.",fields:[{key:"termSheet",label:"Final Term Sheet",value:"",lineage:"MANUAL",type:"file",required:!0,tooltip:"Required for approval."},{key:"riskMemo",label:"Risk Memo",value:"",lineage:"MANUAL",type:"file"}]}];closeEditor(){this.close.emit()}scrollToSection(n){this.activeSection=n;let e=document.getElementById("sec-"+n);e&&e.scrollIntoView({behavior:"smooth",block:"start"})}onFieldFocus(n){this.focusedField=n}onScroll(n){}autoSize(n){let e=n.target;e.style.height="auto",e.style.height=e.scrollHeight+"px"}getInputStyles(n,e){let a="bg-gray-50 border transition-all text-gray-900 ";return n==="AUTO"?a+="border-green-500 ":n==="ADAPTED"?a+="border-amber-500 ":n==="MANUAL"?a+="border-red-500 ":a+="border-gray-300 ",e?n==="AUTO"?a+="ring-2 ring-green-100 border-green-600 bg-white":n==="ADAPTED"?a+="ring-2 ring-amber-100 border-amber-600 bg-white":n==="MANUAL"?a+="ring-2 ring-red-100 border-red-600 bg-white":a+="ring-2 ring-blue-100 border-blue-500 bg-white":a+="focus:bg-white focus:ring-2 focus:ring-blue-100 focus:border-blue-500",a}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=_({type:r,selectors:[["app-npa-template-editor"]],outputs:{close:"close"},decls:39,vars:7,consts:[[1,"fixed","inset-0","z-[200]","bg-slate-50","flex","flex-col","font-sans","animate-in","fade-in","duration-200"],[1,"h-16","bg-white","border-b","border-gray-200","flex","items-center","justify-between","px-6","shadow-sm","z-20"],[1,"flex","items-center","gap-4"],[1,"group","flex","items-center","justify-center","p-2","rounded-full","hover:bg-gray-100","text-gray-500","hover:text-gray-900","transition-all","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click"],["name","x",1,"w-6","h-6","stroke-[1.5]","group-hover:rotate-90","transition-transform"],[1,"text-lg","font-bold","text-gray-900","flex","items-center","gap-2","tracking-tight"],[1,"px-2","py-0.5","rounded","text-xs","font-semibold","bg-blue-100","text-blue-700","border","border-blue-200"],[1,"text-xs","text-gray-500","mt-2"],[1,"font-medium","text-blue-600"],[1,"hidden","md:flex","items-center","gap-4","text-xs","font-medium","border-r","border-gray-200","pr-4","mr-2"],[1,"flex","items-center","gap-1.5","text-green-700"],["name","sparkles",1,"w-3.5","h-3.5"],[1,"flex","items-center","gap-1.5","text-amber-700"],["name","alert-triangle",1,"w-3.5","h-3.5"],[1,"flex","items-center","gap-1.5","text-red-600"],["name","edit-3",1,"w-3.5","h-3.5"],[1,"px-3","py-2","text-sm","font-medium","text-gray-600","hover:bg-gray-50","rounded-lg","transition-colors","border","border-gray-200","hover:border-gray-300","mr-2"],[1,"px-4","py-2","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","rounded-lg","shadow-sm","transition-colors","focus:ring-2","focus:ring-offset-2","focus:ring-blue-600","shadow-blue-200","flex","items-center","gap-2"],["name","save",1,"w-4","h-4"],[1,"flex-1","overflow-hidden","flex","relative","min-h-0"],[1,"w-64","bg-white","border-r","border-gray-200","overflow-y-auto","hidden","lg:block","py-6","flex-none"],[1,"space-y-1","px-3"],["href","javascript:void(0)","class","group flex items-center px-3 py-2 text-sm font-medium text-gray-600 rounded-md hover:bg-gray-50 hover:text-gray-900 transition-colors",3,"bg-blue-50","text-blue-700","click",4,"ngFor","ngForOf"],["id","form-container",1,"flex-1","overflow-y-auto","scroll-smooth","p-6","md:p-10","bg-slate-50","relative","min-h-0",3,"scroll"],[1,"max-w-3xl","mx-auto","space-y-12","pb-24"],["class","bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",3,"id",4,"ngFor","ngForOf"],[1,"w-80","bg-white","border-l","border-gray-200","flex-none","flex","flex-col","shadow-xl","z-30","transition-all","duration-300"],[4,"ngIf"],["href","javascript:void(0)",1,"group","flex","items-center","px-3","py-2","text-sm","font-medium","text-gray-600","rounded-md","hover:bg-gray-50","hover:text-gray-900","transition-colors",3,"click"],[1,"w-1.5","h-1.5","mr-3","rounded-full","bg-gray-300","group-hover:bg-gray-400","transition-colors"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-200","overflow-hidden",3,"id"],[1,"px-6","py-4","border-b","border-gray-100","bg-gray-50/50","flex","items-center","justify-between"],[1,"text-lg","font-bold","text-gray-900"],["class","text-sm text-gray-500 mt-2",4,"ngIf"],[1,"p-6","grid","grid-cols-1","md:grid-cols-2","gap-x-6","gap-y-5","bg-white"],["class","relative",3,"md:col-span-2",4,"ngFor","ngForOf"],[1,"px-6","py-3","bg-gray-50/80","border-t","border-gray-100","flex","items-center","gap-4"],["title","Attach Document to Section",1,"flex","items-center","gap-1.5","text-xs","font-medium","text-gray-500","hover:text-blue-600","transition-colors"],["name","paperclip",1,"w-4","h-4"],[1,"hidden","sm:inline"],[1,"h-4","w-px","bg-gray-300"],[1,"flex-1","flex","items-center","gap-2"],[1,"w-6","h-6","rounded-full","bg-blue-100","flex","items-center","justify-center","text-blue-700","text-[10px]","font-bold","ring-2","ring-white","flex-none"],["placeholder","Add a comment...",1,"flex-1","bg-transparent","border-none","text-sm","placeholder:text-gray-400","focus:ring-0","p-0","text-gray-700",3,"ngModelChange","ngModel"],["class","text-xs font-semibold text-blue-600 hover:text-blue-800 transition-colors",4,"ngIf"],[1,"text-sm","text-gray-500","mt-2"],[1,"relative"],[1,"flex","items-center","justify-between","mb-1.5"],[1,"block","text-xs","font-semibold","text-gray-700","uppercase","tracking-wide"],["class","text-red-500",4,"ngIf"],[1,"relative","group",3,"click"],["class","flex items-center gap-3 p-3 rounded-md border border-dashed border-gray-300 bg-gray-50 hover:bg-blue-50 hover:border-blue-300 transition-colors cursor-pointer",3,"ring-2","ring-blue-500",4,"ngIf"],["class","w-full text-sm rounded-md px-3 py-2 outline-none transition-all shadow-sm",3,"ngModel","type","placeholder","ngClass","ngModelChange",4,"ngIf"],["rows","3","class","w-full text-sm rounded-md px-3 py-2 outline-none transition-all shadow-sm",3,"ngModel","placeholder","ngClass","ngModelChange",4,"ngIf"],[1,"absolute","right-2","top-2.5","pointer-events-none"],[3,"ngSwitch"],["name","check","class","w-4 h-4 text-green-600 opacity-50",4,"ngSwitchCase"],["name","alert-circle","class","w-4 h-4 text-amber-600 opacity-50",4,"ngSwitchCase"],["name","edit-2","class","w-4 h-4 text-red-500 opacity-50",4,"ngSwitchCase"],[1,"text-red-500"],[1,"flex","items-center","gap-3","p-3","rounded-md","border","border-dashed","border-gray-300","bg-gray-50","hover:bg-blue-50","hover:border-blue-300","transition-colors","cursor-pointer"],[1,"p-2","bg-white","rounded","border","border-gray-200","shadow-sm","text-gray-500"],["name","upload-cloud",1,"w-5","h-5"],[1,"text-sm","font-medium","text-gray-700"],[1,"text-[10px]","text-gray-500"],[1,"w-full","text-sm","rounded-md","px-3","py-2","outline-none","transition-all","shadow-sm",3,"ngModelChange","ngModel","type","placeholder","ngClass"],["rows","3",1,"w-full","text-sm","rounded-md","px-3","py-2","outline-none","transition-all","shadow-sm",3,"ngModelChange","ngModel","placeholder","ngClass"],["name","check",1,"w-4","h-4","text-green-600","opacity-50"],["name","alert-circle",1,"w-4","h-4","text-amber-600","opacity-50"],["name","edit-2",1,"w-4","h-4","text-red-500","opacity-50"],[1,"text-xs","font-semibold","text-blue-600","hover:text-blue-800","transition-colors"],[1,"h-14","border-b","border-gray-100","flex","items-center","justify-between","px-5","bg-gray-50"],[1,"text-xs","font-bold","uppercase","tracking-wider","text-gray-500","flex","items-center","gap-2"],["name","eye",1,"w-3.5","h-3.5"],[1,"text-gray-400","hover:text-gray-600",3,"click"],["name","x",1,"w-4","h-4"],[1,"p-5","flex-1","overflow-y-auto"],[1,"mb-6"],[1,"text-[10px]","uppercase","font-bold","text-gray-400","mb-1"],[1,"mt-2","flex","items-center","gap-2"],[1,"px-2","py-0.5","rounded","text-[10px]","font-bold","uppercase"],["class","text-xs font-medium text-gray-500",4,"ngIf"],["class","space-y-6",4,"ngIf"],["class","space-y-4",4,"ngIf"],[1,"text-xs","font-medium","text-gray-500"],[1,"space-y-6"],["class","bg-amber-50 rounded-lg p-3 border border-amber-100",4,"ngIf"],[1,"pt-4","border-t","border-gray-100"],[1,"w-full","py-2","bg-white","border","border-gray-200","text-gray-600","hover:text-blue-600","hover:border-blue-300","rounded-lg","text-xs","font-semibold","transition-colors","flex","items-center","justify-center","gap-2"],["name","external-link",1,"w-3.5","h-3.5"],[1,"bg-amber-50","rounded-lg","p-3","border","border-amber-100"],[1,"flex","gap-2"],["name","git-branch",1,"w-4","h-4","text-amber-600","flex-none","mt-0.5"],[1,"text-xs","font-bold","text-amber-800","mb-1"],[1,"text-xs","text-amber-700","leading-relaxed"],[1,"text-[10px]","uppercase","font-bold","text-gray-400","mb-2"],[1,"bg-slate-50","rounded-lg","p-3","border","border-slate-200","text-xs","text-gray-600","font-mono","leading-relaxed","relative","cursor-pointer","hover:bg-slate-100","transition-colors"],[1,"absolute","top-2","right-2","opacity-50"],["name","quote",1,"w-3","h-3","text-slate-400"],[1,"space-y-4"],[1,"bg-blue-50","rounded-lg","p-4","border","border-blue-100","text-center"],[1,"w-10","h-10","rounded-full","bg-blue-100","flex","items-center","justify-center","mx-auto","mb-3"],["name","bot",1,"w-5","h-5","text-blue-600"],[1,"text-sm","font-bold","text-blue-900","mb-1"],[1,"text-xs","text-blue-700","mb-3"],[1,"w-full","py-2","bg-blue-600","hover:bg-blue-700","text-white","rounded-lg","text-xs","font-bold","transition-colors","shadow-sm","shadow-blue-200"]],template:function(e,a){e&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),g("click",function(){return a.closeEditor()}),l(4,"lucide-icon",4),t(),i(5,"div")(6,"h1",5),o(7," eNPA Proposal Form "),i(8,"span",6),o(9," TSG2025-042 "),t()(),i(10,"p",7),o(11,"Auto-Fill Source: "),i(12,"span",8),o(13,"TSG1917 (94% Match)"),t()()()(),i(14,"div",2)(15,"div",9)(16,"span",10),l(17,"lucide-icon",11),o(18," Direct Copy "),t(),i(19,"span",12),l(20,"lucide-icon",13),o(21," Adapted "),t(),i(22,"span",14),l(23,"lucide-icon",15),o(24," Manual Input "),t()(),i(25,"button",16),o(26," Reset "),t(),i(27,"button",17),l(28,"lucide-icon",18),o(29," Save & Close "),t()()(),i(30,"div",19)(31,"div",20)(32,"nav",21),p(33,Oi,3,7,"a",22),t()(),i(34,"div",23),g("scroll",function(m){return a.onScroll(m)}),i(35,"div",24),p(36,qi,19,6,"div",25),t()(),i(37,"div",26),p(38,Qi,19,17,"ng-container",27),t()()()),e&2&&(d(33),c("ngForOf",a.sections),d(3),c("ngForOf",a.sections),d(),V("translate-x-full",!a.focusedField)("translate-x-0",a.focusedField),d(),c("ngIf",a.focusedField))},dependencies:[C,N,M,A,ot,at,w,S,J,X,ye,ae],styles:["[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{bg:transparent}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#cbd5e1;border-radius:3px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#94a3b8}"]})};function Zi(r,n){if(r&1){let e=b();i(0,"app-npa-template-editor",72),g("close",function(){f(e);let s=u();return h(s.showTemplateEditor=!1)}),t()}}function en(r,n){if(r&1&&(i(0,"span",76),o(1),t()),r&2){let e=u().$implicit,a=u();pe(a.getBadgeColor(e.id)),d(),x(" ",e.badge," ")}}function tn(r,n){if(r&1){let e=b();i(0,"button",73),g("click",function(){let s=f(e).$implicit,m=u();return h(m.activeTab=s.id)}),l(1,"lucide-icon",74),o(2),p(3,en,2,3,"span",75),t()}if(r&2){let e=n.$implicit,a=u();pe(a.activeTab===e.id?"border-blue-600 text-blue-700 font-semibold":"border-transparent text-gray-500 hover:text-gray-800 font-medium hover:bg-gray-50"),d(),pe(a.activeTab===e.id?"text-blue-600":"text-gray-400"),c("name",e.icon),d(),x(" ",e.label," "),d(),c("ngIf",e.badge)}}function nn(r,n){r&1&&l(0,"lucide-icon",114)}function rn(r,n){if(r&1&&(i(0,"div",109)(1,"p",110),o(2),p(3,nn,1,0,"lucide-icon",111),t(),i(4,"div",81)(5,"p",112),o(6),t(),i(7,"div",113),o(8),t()()()),r&2){let e=n.$implicit;d(2),x(" ",e.label," "),d(),c("ngIf",e.confidence>90),d(3),v(e.value),d(2),x(" ",e.confidence,"% ")}}function on(r,n){if(r&1){let e=b();i(0,"div",77)(1,"div",78)(2,"div",79)(3,"h2",80),o(4,"Product Attributes"),t(),i(5,"div",81)(6,"span",82),o(7," \u2705 78% Auto-Filled "),t(),i(8,"span",83),o(9," Verified by DocExtraction "),t()()(),i(10,"div",84),p(11,rn,9,4,"div",85),t()(),i(12,"div",86)(13,"div",87),g("click",function(){f(e);let s=u();return h(s.showTemplateEditor=!0)}),i(14,"div",88),l(15,"lucide-icon",89),t(),i(16,"h3",90),o(17,"Template Completion"),t(),i(18,"div",91),Ye(),i(19,"svg",92),l(20,"path",93)(21,"path",94),t(),Xe(),i(22,"div",95)(23,"span",96),o(24,"37"),t(),i(25,"span",97),o(26,"of 47 Fields"),t()()(),i(27,"div",98)(28,"p",99),o(29,"Saved approx. "),i(30,"span",100),o(31,"45 minutes"),t(),o(32," of manual entry."),t()()(),i(33,"div",101)(34,"h3",102),o(35,"KB Source Match"),t(),i(36,"p",103),o(37," Data auto-filled based on 94% match with historical NPA: "),t(),i(38,"div",104)(39,"div",105),l(40,"lucide-icon",106),t(),i(41,"div")(42,"p",107),o(43,"TSG1917 - FX Option EUR/USD"),t(),i(44,"p",108),o(45,"Approved: Dec 04, 2024 \u2022 Validity: Active"),t()()()()()()}if(r&2){let e=u();d(11),c("ngForOf",e.productAttributes)}}function an(r,n){r&1&&(i(0,"div",77)(1,"div",115)(2,"div",116)(3,"div",117),l(4,"lucide-icon",118),t(),i(5,"h4",119),o(6,"Approval Likelihood"),t(),i(7,"div",120)(8,"span",121),o(9,"78%"),t(),i(10,"span",122),o(11,"High"),t()(),i(12,"p",123),o(13,"Confidence Interval: \xB15%"),t(),i(14,"div",124),l(15,"div",125),t()(),i(16,"div",126)(17,"h4",119),o(18,"Predicted Timeline"),t(),i(19,"div",120)(20,"span",121),o(21,"4.2"),t(),i(22,"span",127),o(23,"Days"),t()(),i(24,"p",123),o(25,"vs 12 Day Baseline (67% faster)"),t()(),i(26,"div",128)(27,"h4",129),l(28,"lucide-icon",130),o(29," Likely Bottleneck "),t(),i(30,"p",131),o(31,"Finance Dept"),t(),i(32,"p",132),o(33,"Est. 1.8 Days"),t(),i(34,"p",133),o(35," Reason: ROAE analysis often requested for >$50M deals. "),t()()(),i(36,"div")(37,"h3",134),o(38,"Agent Findings (3)"),t(),i(39,"div",135)(40,"div",136)(41,"div",137)(42,"div",138),l(43,"lucide-icon",139),t()(),i(44,"div",140)(45,"div",141)(46,"h4",100),o(47,"Missing Risk Memo"),t(),i(48,"span",142),o(49,"Blocker"),t()(),i(50,"p",143),o(51," Global Risk Policy 5.2 requires a Risk Memo for FX Options > $10M notional. This is a hard requirement for Sign-Off. "),t(),i(52,"button",144),o(53," Auto-Draft Waiver Request "),l(54,"lucide-icon",145),t()()(),i(55,"div",146)(56,"div",137)(57,"div",147),l(58,"lucide-icon",148),t()(),i(59,"div",140)(60,"h4",149),o(61,"Compliance Checks Passed"),t(),i(62,"p",150),o(63," Prohibited List Checker (4 Layers), Sanctions Check (OFAC/UN), and Regulatory Check (MAS) all cleared. "),t()()()()()())}function ln(r,n){r&1&&(i(0,"div",151)(1,"div",152)(2,"div")(3,"h3",153),o(4,"Sign-Off Status"),t(),i(5,"p",154),o(6,"Pending 6 Approvals \u2022 SLA Expires in 22 Hours"),t()(),i(7,"div",15)(8,"div",155)(9,"div",156),o(10,"0/6"),t(),i(11,"div",157),o(12,"Completed"),t()(),i(13,"div",158),l(14,"div",159),t()()(),i(15,"div",160)(16,"div",161)(17,"div",162),o(18,"Department / Approver"),t(),i(19,"div",163),o(20,"Status"),t(),i(21,"div",163),o(22,"Time Elapsed"),t(),i(23,"div",164),o(24,"Action"),t()(),i(25,"div",165)(26,"div",166)(27,"div",162)(28,"p",100),o(29,"RMG-Credit"),t(),i(30,"p",127),o(31,"Jane Tan"),t()(),i(32,"div",163)(33,"span",167),o(34," Pending Review "),t()(),i(35,"div",168),o(36,"2h 15m"),t(),i(37,"div",164)(38,"button",169),o(39,"Nudge"),t()()(),i(40,"div",170)(41,"div",171),l(42,"div",172),i(43,"p",100),o(44,"Finance (Product Control)"),t(),i(45,"p",127),o(46,"Mark Lee"),t()(),i(47,"div",163)(48,"span",173),o(49," Viewing Now "),t()(),i(50,"div",168),o(51,"2h 12m"),t(),i(52,"div",164)(53,"button",174),o(54,"--"),t()()(),i(55,"div",175)(56,"div",162)(57,"p",100),o(58,"Finance VP"),t(),i(59,"p",127),o(60,"Waiting for Finance..."),t()(),i(61,"div",163)(62,"span",176),o(63," Locked "),t()(),i(64,"div",177),o(65,"--"),t(),l(66,"div",164),t()()()())}function sn(r,n){r&1&&(i(0,"div",77)(1,"div",178)(2,"div",179)(3,"div",180),l(4,"lucide-icon",181),t(),i(5,"h3",182),o(6,"Stage 1: Initiation"),t(),i(7,"p",183),o(8,"Completed: Dec 16, 09:42 AM (Duration: 38m)"),t(),i(9,"div",184)(10,"div",15),l(11,"lucide-icon",185),i(12,"span",186),o(13,"Product Ideation Interview"),t(),i(14,"span",187),o(15,"COMPLETE"),t()(),i(16,"div",15),l(17,"lucide-icon",188),i(18,"span",186),o(19,"Document Upload (13 Files)"),t(),i(20,"span",187),o(21,"COMPLETE"),t()(),i(22,"div",15),l(23,"lucide-icon",189),i(24,"span",186),o(25,"Prohibited List Check (4 Layers)"),t(),i(26,"span",187),o(27,"PASSED"),t()()()(),i(28,"div",179)(29,"div",190),l(30,"div",191),t(),i(31,"h3",192),o(32,"Stage 2: Review & Sign-Off"),t(),i(33,"p",193),o(34,"In Progress \u2022 Start: Dec 16, 10:00 AM"),t(),i(35,"div",194)(36,"div",15),l(37,"lucide-icon",195),i(38,"span",196),o(39,"NPA Champion Review"),t(),i(40,"span",197),o(41,"PENDING"),t()(),i(42,"div",198),o(43," Assigned to: "),i(44,"span",199),o(45,"David Chen"),t()()()(),i(46,"div",200),l(47,"div",201),i(48,"h3",202),o(49,"Stage 4: Launch"),t(),i(50,"p",203),o(51,"Estimated: Dec 20"),t()()()())}function dn(r,n){r&1&&(i(0,"div",204)(1,"div",205)(2,"div",206)(3,"div",207),l(4,"lucide-icon",208),t(),i(5,"div",209)(6,"p"),o(7,"Hi Sarah! I noticed this is a $75M FX Option. Based on notional >$50M, Finance VP approval will be required."),t(),i(8,"p",210),o(9,"Plot ROAE Sensitivity Analysis?"),t()()()(),i(10,"div",211)(11,"div",212),l(12,"input",213),i(13,"button",214),l(14,"lucide-icon",215),t()()()())}var Ve=class r{onBack=new y;activeTab="PRODUCT_SPECS";tabs=[{id:"PRODUCT_SPECS",label:"NPA Proposal",icon:"clipboard-list"},{id:"ANALYSIS",label:"Analysis & Predictions",icon:"brain-circuit",badge:"78%"},{id:"APPROVALS",label:"Sign-Off Status",icon:"users",badge:"6"},{id:"WORKFLOW",label:"Workflow",icon:"git-branch"},{id:"CHAT",label:"Assistant",icon:"message-square"}];productAttributes=[{label:"Product Type",value:"FX Put Option",confidence:95},{label:"Underlying",value:"GBP / USD",confidence:99},{label:"Notional",value:"$75,000,000",confidence:99},{label:"Tenor",value:"6 Months",confidence:99},{label:"Strike Price",value:"1.2750",confidence:92},{label:"Settlement",value:"Cash (USD)",confidence:96},{label:"Counterparty",value:"Acme Corp (HK)",confidence:85},{label:"Credit Rating",value:"A- (S&P)",confidence:98},{label:"Booking Desk",value:"Singapore FX",confidence:99}];getBadgeColor(n){switch(n){case"ANALYSIS":return"text-green-600 bg-green-100 border-green-200";case"APPROVALS":return"text-amber-600 bg-amber-100 border-amber-200";default:return"text-gray-600 bg-gray-100"}}showTemplateEditor=!1;static \u0275fac=function(e){return new(e||r)};static \u0275cmp=_({type:r,selectors:[["app-npa-detail"]],outputs:{onBack:"onBack"},decls:122,vars:7,consts:[[3,"close",4,"ngIf"],[1,"fixed","inset-0","z-[100]","flex","flex-col","h-screen","w-screen","bg-slate-50","overscroll-none","font-sans"],[1,"flex-none","bg-white","border-b","border-gray-200","px-6","py-3","flex","items-center","justify-between","shadow-sm","z-20"],[1,"flex","items-center","gap-4"],[1,"group","flex","items-center","justify-center","p-2","rounded-full","hover:bg-gray-100","text-gray-500","hover:text-gray-900","transition-all","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500",3,"click"],["name","arrow-left",1,"w-6","h-6","stroke-[1.5]","group-hover:-translate-x-0.5","transition-transform"],[1,"flex","items-center","gap-3","text-xs","text-gray-500","mb-2"],[1,"font-medium","text-gray-400"],["name","chevron-right",1,"w-3","h-3","text-gray-300"],[1,"font-mono","text-gray-600","bg-gray-100","px-2","py-0.5","rounded"],[1,"flex","items-center","gap-1.5","ml-2"],["name","user",1,"w-3","h-3"],[1,"font-medium","text-gray-700"],[1,"text-gray-300"],[1,"text-gray-400"],[1,"flex","items-center","gap-3"],[1,"text-lg","font-bold","text-gray-900","tracking-tight"],[1,"inline-flex","items-center","px-2","py-0.5","rounded","text-xs","font-semibold","bg-blue-100","text-blue-700","border","border-blue-200"],[1,"inline-flex","items-center","px-2","py-0.5","rounded","text-xs","font-medium","bg-purple-50","text-purple-700","border","border-purple-200"],["name","globe",1,"w-3","h-3","mr-1"],[1,"px-3","py-2","text-sm","font-medium","text-gray-600","hover:bg-gray-50","rounded-lg","transition-colors","border","border-gray-200","hover:border-gray-300","flex","items-center","gap-2"],["name","help-circle",1,"w-4","h-4"],["name","save",1,"w-4","h-4"],[1,"h-6","w-px","bg-gray-300","mx-1"],[1,"px-4","py-2","text-sm","font-medium","text-red-600","hover:bg-red-50","rounded-lg","transition-colors","border","border-transparent","hover:border-red-100/50"],[1,"px-4","py-2","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","rounded-lg","shadow-sm","transition-colors","focus:ring-2","focus:ring-offset-2","focus:ring-blue-600","shadow-blue-200"],[1,"flex-1","overflow-hidden"],[1,"grid","grid-cols-1","lg:grid-cols-12","h-full"],[1,"lg:col-span-4","flex","flex-col","h-full","border-r","border-gray-200","bg-white","p-0","overflow-hidden"],[1,"flex-none","p-4","border-b","border-gray-100","flex","items-center","justify-between","bg-gray-50/50"],[1,"font-semibold","text-sm","flex","items-center","gap-2","text-gray-900"],[1,"p-1.5","bg-white","border","border-gray-200","rounded-md","shadow-sm","text-red-500"],["name","file-text",1,"w-4","h-4"],[1,"flex-1","bg-slate-50","relative","group","overflow-hidden","flex","flex-col","items-center","justify-center","p-8"],[1,"absolute","inset-0","bg-[url('https://www.transparenttextures.com/patterns/graphy.png')]","opacity-10"],[1,"absolute","inset-0","bg-white/60","backdrop-blur-[2px]","opacity-0","group-hover:opacity-100","transition-all","duration-300","flex","items-center","justify-center","z-10","cursor-pointer"],[1,"bg-gray-900","text-white","px-5","py-2.5","rounded-full","text-sm","font-medium","shadow-lg","transform","translate-y-2","group-hover:translate-y-0","transition-transform"],[1,"w-48","h-64","bg-white","shadow-2xl","shadow-gray-300/50","border","border-gray-200","rounded-lg","p-6","relative","transform","group-hover:scale-105","transition-transform","duration-500","ease-out"],[1,"space-y-3","opacity-60"],[1,"h-2","w-1/3","bg-gray-800","rounded","mb-4"],[1,"h-1.5","w-full","bg-gray-200","rounded"],[1,"h-1.5","w-5/6","bg-gray-200","rounded"],[1,"h-1.5","w-full","bg-gray-200","rounded","mt-4"],[1,"h-32","w-full","bg-blue-50/50","border","border-blue-100","rounded","mt-2"],[1,"mt-6","text-sm","font-medium","text-gray-500"],[1,"flex-none","bg-white","border-t","border-gray-200","h-1/3","flex","flex-col"],[1,"px-4","py-3","border-b","border-gray-100","bg-gray-50/50","flex","items-center","justify-between"],[1,"text-xs","font-bold","text-gray-500","uppercase","tracking-wider"],[1,"p-1","hover:bg-blue-50","text-blue-600","rounded"],["name","upload-cloud",1,"w-4","h-4"],[1,"overflow-y-auto","p-2","space-y-1"],[1,"flex","items-center","p-2","rounded-lg","hover:bg-gray-50","cursor-pointer","group","transition-colors","border","border-transparent","hover:border-gray-200"],[1,"w-8","h-8","rounded","bg-red-50","text-red-500","flex","items-center","justify-center","mr-3","border","border-red-100"],[1,"flex-1","min-w-0"],[1,"flex","items-center","justify-between"],[1,"text-sm","font-medium","text-gray-900","truncate"],["name","check-circle-2",1,"w-3.5","h-3.5","text-green-500"],[1,"text-xs","text-gray-500","flex","items-center","gap-2"],[1,"w-1","h-1","rounded-full","bg-gray-300"],[1,"flex","items-center","p-2","rounded-lg","hover:bg-gray-50","cursor-pointer","group","transition-colors"],[1,"w-8","h-8","rounded","bg-blue-50","text-blue-500","flex","items-center","justify-center","mr-3","border","border-blue-100"],["name","file-bar-chart-2",1,"w-4","h-4"],["name","alert-triangle",1,"w-3.5","h-3.5","text-amber-500"],[1,"w-8","h-8","rounded","bg-green-50","text-green-600","flex","items-center","justify-center","mr-3","border","border-green-100"],["name","file-check",1,"w-4","h-4"],[1,"lg:col-span-8","flex","flex-col","h-full","bg-slate-50/50","overflow-hidden","relative"],[1,"flex-none","flex","items-center","px-6","border-b","border-gray-200","bg-white","gap-6","overflow-x-auto","no-scrollbar","shadow-[0_1px_2px_rgba(0,0,0,0.02)]"],["class","flex items-center gap-2 py-4 border-b-2 text-sm transition-all whitespace-nowrap px-2",3,"class","click",4,"ngFor","ngForOf"],[1,"flex-1","overflow-y-auto","p-8","scroll-smooth"],["class","space-y-8 animate-in fade-in slide-in-from-bottom-2 duration-300 max-w-4xl mx-auto",4,"ngIf"],["class","space-y-6 animate-in fade-in slide-in-from-bottom-2 duration-300 max-w-4xl mx-auto",4,"ngIf"],["class","h-[calc(100vh-280px)] flex flex-col bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden animate-in fade-in slide-in-from-bottom-2 duration-300",4,"ngIf"],[3,"close"],[1,"flex","items-center","gap-2","py-4","border-b-2","text-sm","transition-all","whitespace-nowrap","px-2",3,"click"],[1,"w-4","h-4",3,"name"],["class","ml-1.5 px-1.5 py-0.5 rounded-full text-[10px] bg-gray-100 text-gray-600 font-bold border border-gray-200/50",3,"class",4,"ngIf"],[1,"ml-1.5","px-1.5","py-0.5","rounded-full","text-[10px]","bg-gray-100","text-gray-600","font-bold","border","border-gray-200/50"],[1,"space-y-8","animate-in","fade-in","slide-in-from-bottom-2","duration-300","max-w-4xl","mx-auto"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-200","p-6"],[1,"flex","items-center","justify-between","mb-6"],[1,"text-lg","font-bold","text-gray-900"],[1,"flex","items-center","gap-2"],[1,"text-xs","font-medium","text-green-700","bg-green-50","px-2.5","py-1","rounded-full","border","border-green-100"],[1,"text-xs","font-medium","text-blue-700","bg-blue-50","px-2.5","py-1","rounded-full","border","border-blue-100"],[1,"grid","grid-cols-2","md:grid-cols-3","gap-y-6","gap-x-8"],["class","group",4,"ngFor","ngForOf"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"bg-white","rounded-xl","border","border-gray-200","p-6","shadow-sm","cursor-pointer","hover:shadow-md","hover:border-blue-300","transition-all","group","relative",3,"click"],[1,"absolute","top-3","right-3","opacity-0","group-hover:opacity-100","transition-opacity"],["name","external-link",1,"w-4","h-4","text-blue-500"],[1,"text-sm","font-bold","text-gray-900","mb-4","group-hover:text-blue-700"],[1,"relative","w-40","h-40","mx-auto"],["viewBox","0 0 36 36",1,"w-full","h-full","transform","-rotate-90"],["d","M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831","fill","none","stroke","currentColor","stroke-width","3.5",1,"text-gray-100"],["stroke-dasharray","78, 100","d","M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831","fill","none","stroke","currentColor","stroke-width","3.5",1,"text-blue-600"],[1,"absolute","inset-0","flex","flex-col","items-center","justify-center"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-xs","text-gray-500","font-medium","uppercase"],[1,"mt-4","text-center"],[1,"text-sm","text-gray-600"],[1,"font-bold","text-gray-900"],[1,"bg-gradient-to-br","from-blue-50","to-slate-50","rounded-xl","border","border-blue-100","p-6"],[1,"text-sm","font-bold","text-blue-900","mb-2"],[1,"text-sm","text-blue-800/80","mb-4"],[1,"bg-white","rounded-lg","p-3","border","border-blue-100","shadow-sm","flex","items-start","gap-3"],[1,"p-2","bg-blue-100","rounded","text-blue-600"],["name","database",1,"w-5","h-5"],[1,"text-sm","font-bold","text-gray-900"],[1,"text-xs","text-gray-500","mt-0.5"],[1,"group"],[1,"text-xs","font-semibold","text-gray-400","uppercase","tracking-wider","mb-1","flex","items-center","gap-1"],["name","sparkles","class","w-3 h-3 text-amber-400 opacity-60",4,"ngIf"],[1,"text-base","font-semibold","text-gray-900"],[1,"opacity-0","group-hover:opacity-100","transition-opacity","bg-blue-600","text-white","text-[10px]","px-1.5","py-0.5","rounded","font-mono"],["name","sparkles",1,"w-3","h-3","text-amber-400","opacity-60"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6"],[1,"bg-white","p-6","rounded-xl","border","border-gray-200","shadow-sm","relative","overflow-hidden"],[1,"absolute","right-0","top-0","p-4","opacity-10"],["name","trending-up",1,"w-16","h-16","text-green-600"],[1,"text-sm","font-medium","text-gray-500","mb-2"],[1,"flex","items-baseline","gap-2"],[1,"text-4xl","font-bold","text-gray-900"],[1,"text-sm","font-medium","text-green-600","bg-green-50","px-2","py-0.5","rounded-full"],[1,"text-xs","text-gray-400","mt-2"],[1,"mt-4","h-1.5","w-full","bg-gray-100","rounded-full","overflow-hidden"],[1,"h-full","bg-green-500","w-[78%]","rounded-full"],[1,"bg-white","p-6","rounded-xl","border","border-gray-200","shadow-sm"],[1,"text-sm","text-gray-500"],[1,"bg-white","p-6","rounded-xl","border","border-red-100","shadow-sm","bg-red-50/30"],[1,"text-sm","font-medium","text-red-600","mb-2","flex","items-center","gap-2"],["name","alert-circle",1,"w-4","h-4"],[1,"text-gray-900","font-bold"],[1,"text-sm","text-gray-600","mt-1"],[1,"text-xs","text-gray-500","mt-3","pt-3","border-t","border-red-100"],[1,"text-sm","font-bold","text-gray-900","mb-4"],[1,"space-y-4"],[1,"flex","gap-4","p-5","rounded-xl","bg-red-50/40","border","border-red-100"],[1,"flex-none","pt-1"],[1,"p-2","bg-white","rounded-lg","border","border-red-100","text-red-600","shadow-sm"],["name","shield-alert",1,"w-5","h-5"],[1,"flex-1"],[1,"flex","items-center","justify-between","mb-1"],[1,"text-xs","font-bold","text-red-600","bg-red-100","px-2","py-0.5","rounded","uppercase","tracking-wide"],[1,"text-sm","text-gray-600","leading-relaxed","mb-3"],[1,"text-sm","font-medium","text-blue-600","hover:text-blue-800","flex","items-center","gap-1","group"],["name","arrow-right",1,"w-4","h-4","group-hover:translate-x-0.5","transition-transform"],[1,"flex","gap-4","p-5","rounded-xl","bg-green-50/40","border","border-green-100"],[1,"p-2","bg-white","rounded-lg","border","border-green-100","text-green-600","shadow-sm"],["name","check-circle",1,"w-5","h-5"],[1,"font-bold","text-gray-900","mb-1"],[1,"text-sm","text-gray-600","leading-relaxed"],[1,"space-y-6","animate-in","fade-in","slide-in-from-bottom-2","duration-300","max-w-4xl","mx-auto"],[1,"bg-gray-900","text-white","rounded-xl","p-6","shadow-lg","flex","items-center","justify-between"],[1,"text-lg","font-bold"],[1,"text-gray-400","text-sm","mt-1"],[1,"text-right"],[1,"text-2xl","font-bold"],[1,"text-xs","text-gray-400"],[1,"w-12","h-12","rounded-full","border-4","border-gray-700","flex","items-center","justify-center"],[1,"w-10","h-10","rounded-full","border-4","border-transparent","border-t-blue-500","animate-spin"],[1,"bg-white","border","border-gray-200","rounded-xl","overflow-hidden","shadow-sm"],[1,"grid","grid-cols-12","bg-gray-50","border-b","border-gray-200","px-6","py-3","text-xs","font-bold","text-gray-500","uppercase","tracking-wider"],[1,"col-span-4"],[1,"col-span-3"],[1,"col-span-2","text-right"],[1,"divide-y","divide-gray-100"],[1,"grid","grid-cols-12","px-6","py-4","items-center","hover:bg-gray-50","transition-colors"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-yellow-100","text-yellow-800"],[1,"col-span-3","text-sm","text-gray-600","font-mono"],[1,"text-blue-600","hover:text-blue-800","text-xs","font-bold"],[1,"grid","grid-cols-12","px-6","py-4","items-center","hover:bg-gray-50","transition-colors","bg-blue-50/20"],[1,"col-span-4","relative"],[1,"absolute","-left-6","top-1/2","-translate-y-1/2","w-1","h-8","bg-blue-500","rounded-r"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-blue-100","text-blue-800","animate-pulse"],["disabled","",1,"text-gray-400","hover:text-gray-600","text-xs","font-bold"],[1,"grid","grid-cols-12","px-6","py-4","items-center","hover:bg-gray-50","transition-colors","opacity-60"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","bg-gray-100","text-gray-500"],[1,"col-span-3","text-sm","text-gray-400","font-mono"],[1,"relative","pl-8","border-l","border-gray-200","space-y-12","my-6"],[1,"relative","group"],[1,"absolute","-left-[37px]","top-0","w-6","h-6","rounded-full","bg-blue-600","border-4","border-white","shadow-md","flex","items-center","justify-center"],["name","check",1,"w-3","h-3","text-white"],[1,"text-lg","font-bold","text-gray-900","mb-1"],[1,"text-xs","text-gray-500","uppercase","tracking-wide","mb-4"],[1,"bg-gray-50","rounded-lg","p-4","border","border-gray-200/60","space-y-3"],["name","message-square",1,"w-4","h-4","text-blue-500"],[1,"text-sm","text-gray-700"],[1,"text-xs","text-green-600","font-mono","ml-auto"],["name","upload-cloud",1,"w-4","h-4","text-blue-500"],["name","shield-check",1,"w-4","h-4","text-blue-500"],[1,"absolute","-left-[37px]","top-0","w-6","h-6","rounded-full","bg-white","border-[3px]","border-blue-600","shadow-md","flex","items-center","justify-center","animate-pulse"],[1,"w-2","h-2","bg-blue-600","rounded-full"],[1,"text-lg","font-bold","text-blue-700","mb-1"],[1,"text-xs","text-blue-600","uppercase","tracking-wide","mb-4"],[1,"bg-white","rounded-lg","p-5","border","border-blue-200","shadow-sm","space-y-4"],["name","eye",1,"w-4","h-4","text-gray-400"],[1,"text-sm","text-gray-900","font-medium"],[1,"text-xs","bg-yellow-100","text-yellow-800","px-2","py-0.5","rounded","ml-auto"],[1,"pl-7","text-xs","text-gray-500","border-l","border-gray-100","ml-2"],[1,"font-semibold","text-gray-700"],[1,"relative","group","opacity-50"],[1,"absolute","-left-[37px]","top-0","w-6","h-6","rounded-full","bg-gray-200","border-4","border-white","shadow-sm"],[1,"text-lg","font-bold","text-gray-500","mb-1"],[1,"text-xs","text-gray-400","uppercase","tracking-wide","mb-4"],[1,"h-[calc(100vh-280px)]","flex","flex-col","bg-white","rounded-2xl","border","border-gray-200","shadow-sm","overflow-hidden","animate-in","fade-in","slide-in-from-bottom-2","duration-300"],[1,"flex-1","p-6","space-y-6","overflow-y-auto","bg-slate-50/50"],[1,"flex","items-start","gap-4"],[1,"w-8","h-8","rounded-full","bg-indigo-600","flex","items-center","justify-center","text-white","shadow-sm"],["name","bot",1,"w-4","h-4"],[1,"bg-white","p-4","rounded-2xl","rounded-tl-none","shadow-sm","border","border-gray-100","max-w-[85%]","text-sm","text-gray-700","leading-relaxed"],[1,"mt-2","text-indigo-600","font-medium","cursor-pointer","hover:underline"],[1,"p-4","bg-white","border-t","border-gray-100"],[1,"relative"],["type","text","placeholder","Type a message...",1,"w-full","pl-4","pr-12","py-3","rounded-xl","border","border-gray-200","focus:ring-2","focus:ring-blue-500/20","focus:border-blue-500","outline-none","text-sm"],[1,"absolute","right-2","top-2","p-1.5","text-blue-600","hover:bg-blue-50","rounded-lg"],["name","send",1,"w-4","h-4"]],template:function(e,a){e&1&&(p(0,Zi,1,0,"app-npa-template-editor",0),i(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),g("click",function(){return a.onBack.emit()}),l(5,"lucide-icon",5),t(),i(6,"div")(7,"div",6)(8,"span",7),o(9,"NPA Pipeline"),t(),l(10,"lucide-icon",8),i(11,"span",9),o(12,"TSG2025-042"),t(),i(13,"span",10),l(14,"lucide-icon",11),i(15,"span",12),o(16,"Sarah Lim (SG FX Desk)"),t()(),i(17,"span",13),o(18,"|"),t(),i(19,"span",14),o(20,"Sub: Dec 16, 09:42 AM"),t()(),i(21,"div",15)(22,"h1",16),o(23," FX Put Option GBP/USD "),t(),i(24,"span",17),o(25," Variation (Medium Risk) "),t(),i(26,"span",18),l(27,"lucide-icon",19),o(28," Cross-Border "),t()()()(),i(29,"div",15)(30,"button",20),l(31,"lucide-icon",21),o(32," Help "),t(),i(33,"button",20),l(34,"lucide-icon",22),o(35," Save Draft "),t(),l(36,"div",23),i(37,"button",24),o(38," Reject "),t(),i(39,"button",25),o(40," Approve & Sign-Off "),t()()(),i(41,"div",26)(42,"div",27)(43,"div",28)(44,"div",29)(45,"h3",30)(46,"div",31),l(47,"lucide-icon",32),t(),o(48," Document Preview "),t()(),i(49,"div",33),l(50,"div",34),i(51,"div",35)(52,"div",36),o(53," Click to expand view "),t()(),i(54,"div",37)(55,"div",38),l(56,"div",39)(57,"div",40)(58,"div",40)(59,"div",41)(60,"div",42)(61,"div",43),t()(),i(62,"p",44),o(63,"FX_Option_Term_Sheet_v1.pdf"),t()(),i(64,"div",45)(65,"div",46)(66,"h4",47),o(67,"Attachments (13)"),t(),i(68,"button",48),l(69,"lucide-icon",49),t()(),i(70,"div",50)(71,"div",51)(72,"div",52),l(73,"lucide-icon",32),t(),i(74,"div",53)(75,"div",54)(76,"p",55),o(77,"Term_Sheet_Final.pdf"),t(),l(78,"lucide-icon",56),t(),i(79,"p",57)(80,"span"),o(81,"2.4 MB"),t(),l(82,"span",58),i(83,"span"),o(84,"Product Specs"),t()()()(),i(85,"div",59)(86,"div",60),l(87,"lucide-icon",61),t(),i(88,"div",53)(89,"div",54)(90,"p",55),o(91,"Risk_Assessment_Draft.docx"),t(),l(92,"lucide-icon",62),t(),i(93,"p",57)(94,"span"),o(95,"1.1 MB"),t(),l(96,"span",58),i(97,"span"),o(98,"Risk Analysis"),t()()()(),i(99,"div",59)(100,"div",63),l(101,"lucide-icon",64),t(),i(102,"div",53)(103,"div",54)(104,"p",55),o(105,"Pricing_Model_v2.xlsx"),t(),l(106,"lucide-icon",56),t(),i(107,"p",57)(108,"span"),o(109,"8.5 MB"),t(),l(110,"span",58),i(111,"span"),o(112,"Finance"),t()()()()()()(),i(113,"div",65)(114,"div",66),p(115,tn,4,7,"button",67),t(),i(116,"div",68),p(117,on,46,1,"div",69)(118,an,64,0,"div",69)(119,ln,67,0,"div",70)(120,sn,52,0,"div",69)(121,dn,15,0,"div",71),t()()()()()),e&2&&(c("ngIf",a.showTemplateEditor),d(115),c("ngForOf",a.tabs),d(2),c("ngIf",a.activeTab==="PRODUCT_SPECS"),d(),c("ngIf",a.activeTab==="ANALYSIS"),d(),c("ngIf",a.activeTab==="APPROVALS"),d(),c("ngIf",a.activeTab==="WORKFLOW"),d(),c("ngIf",a.activeTab==="CHAT"))},dependencies:[C,M,A,w,S,Me],styles:[".no-scrollbar[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.no-scrollbar[_ngcontent-%COMP%]{-ms-overflow-style:none;scrollbar-width:none}"]})};function cn(r,n){if(r&1){let e=b();i(0,"div",3)(1,"app-npa-dashboard",4),g("navigateToCreate",function(){f(e);let s=u();return h(s.goToCreate())})("navigateToDraft",function(){f(e);let s=u();return h(s.goToDraft())}),t()()}}function un(r,n){if(r&1){let e=b();i(0,"div",5)(1,"app-chat-interface",6),g("onBack",function(){f(e);let s=u();return h(s.goToDashboard())})("onComplete",function(){f(e);let s=u();return h(s.goToDraft())}),t()()}}function mn(r,n){if(r&1){let e=b();i(0,"div",7)(1,"app-npa-detail",8),g("onBack",function(){f(e);let s=u();return h(s.goToDashboard())}),t()()}}var Ft=class r{layoutService=R(pt);viewMode="DASHBOARD";constructor(){console.log("NPAAgentComponent Initialized. viewMode:",this.viewMode)}goToDashboard(){this.viewMode="DASHBOARD",this.layoutService.setSidebarVisible(!0)}goToCreate(){this.viewMode="IDEATION",this.layoutService.setSidebarVisible(!0),this.layoutService.setSidebarState(!0)}goToDraft(){this.viewMode="WORK_ITEM",this.layoutService.setSidebarVisible(!0),this.layoutService.setSidebarState(!0)}ngOnDestroy(){this.layoutService.setSidebarVisible(!0),this.layoutService.setSidebarState(!1)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=_({type:r,selectors:[["app-npa-agent"]],decls:3,vars:3,consts:[["class","h-full w-full overflow-y-auto scrollbar-hide",4,"ngIf"],["class","h-[calc(100vh-64px)] w-full border-t border-gray-200 bg-white",4,"ngIf"],["class","h-full w-full",4,"ngIf"],[1,"h-full","w-full","overflow-y-auto","scrollbar-hide"],[3,"navigateToCreate","navigateToDraft"],[1,"h-[calc(100vh-64px)]","w-full","border-t","border-gray-200","bg-white"],[3,"onBack","onComplete"],[1,"h-full","w-full"],[3,"onBack"]],template:function(e,a){e&1&&p(0,cn,2,0,"div",0)(1,un,2,0,"div",1)(2,mn,2,0,"div",2),e&2&&(c("ngIf",a.viewMode==="DASHBOARD"),d(),c("ngIf",a.viewMode==="IDEATION"),d(),c("ngIf",a.viewMode==="WORK_ITEM"))},dependencies:[C,A,w,Ce,De,Ve],encapsulation:2})};export{Ft as NPAAgentComponent};
