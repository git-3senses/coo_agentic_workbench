import{a as fr}from"./chunk-LCWNOMSF.js";import{a as Gr}from"./chunk-T3FQULW3.js";import{a as Hr,b as qr}from"./chunk-WNWPODO2.js";import{a as Qr}from"./chunk-QZZCWHJA.js";import"./chunk-P4G7JZUO.js";import"./chunk-7NXMACTA.js";import"./chunk-AWO3V2FM.js";import"./chunk-O3AZK5PB.js";import"./chunk-YC26YRRT.js";import{a as Wr,c as Kr}from"./chunk-JCKU6EI3.js";import{A as yr,C as jr,D as V,E as Yr,F as Xr,s as Br}from"./chunk-KLMCEAWT.js";import"./chunk-WGNVYDFO.js";import{$ as j,A as B,F as Nr,L as Vr,N as Ur,aa as J,f as Mr,g as kr,i as Cr,j as K,k as gr,l as Q,m as Rr,n as Ir,p as Z,s as vr,t as Fr,u as Or,v as zr,w as hr,x as $r,y as N,z as Pr}from"./chunk-O4ZFC2O5.js";import{d as wr}from"./chunk-EU4ACGSC.js";import"./chunk-IRTGCE2E.js";import{b as a,d as f,e as pr,j as C}from"./chunk-3XTWLQCQ.js";import"./chunk-OD4VSVIC.js";import{a as Lr,b as Ar}from"./chunk-7RJXRMKA.js";var rr="comm",er="rule",tr="decl";var Zr="@import";var Jr="@namespace",re="@keyframes";var ee="@layer";var xr=Math.abs,Y=String.fromCharCode;function ar(r){return r.trim()}function X(r,e,t){return r.replace(e,t)}function te(r,e,t){return r.indexOf(e,t)}function F(r,e){return r.charCodeAt(e)|0}function O(r,e,t){return r.slice(e,t)}function w(r){return r.length}function ae(r){return r.length}function U(r,e){return e.push(r),r}var ir=1,G=1,ie=0,b=0,v=0,q="";function or(r,e,t,i,o,n,c,s){return{value:r,root:e,parent:t,type:i,props:o,children:n,line:ir,column:G,length:c,return:"",siblings:s}}function oe(){return v}function ne(){return v=b>0?F(q,--b):0,G--,v===10&&(G=1,ir--),v}function E(){return v=b<ie?F(q,b++):0,G++,v===10&&(G=1,ir++),v}function R(){return F(q,b)}function W(){return b}function nr(r,e){return O(q,r,e)}function H(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function se(r){return ir=G=1,ie=w(q=r),b=0,[]}function de(r){return q="",r}function sr(r){return ar(nr(b-1,br(r===91?r+2:r===40?r+1:r)))}function ce(r){for(;(v=R())&&v<33;)E();return H(r)>2||H(v)>3?"":" "}function le(r,e){for(;--e&&E()&&!(v<48||v>102||v>57&&v<65||v>70&&v<97););return nr(r,W()+(e<6&&R()==32&&E()==32))}function br(r){for(;E();)switch(v){case r:return b;case 34:case 39:r!==34&&r!==39&&br(v);break;case 40:r===41&&br(r);break;case 92:E();break}return b}function me(r,e){for(;E()&&r+v!==57;)if(r+v===84&&R()===47)break;return"/*"+nr(e,b-1)+"*"+Y(r===47?r:E())}function ue(r){for(;!H(R());)E();return nr(r,b)}function ge(r){return de(dr("",null,null,null,[""],r=se(r),0,[0],r))}function dr(r,e,t,i,o,n,c,s,d){for(var p=0,h=0,l=c,y=0,L=0,D=0,u=1,M=1,S=1,g=0,T="",k=o,A=n,x=i,m=T;M;)switch(D=g,g=E()){case 40:if(D!=108&&F(m,l-1)==58){te(m+=X(sr(g),"&","&\f"),"&\f",xr(p?s[p-1]:0))!=-1&&(S=-1);break}case 34:case 39:case 91:m+=sr(g);break;case 9:case 10:case 13:case 32:m+=ce(D);break;case 92:m+=le(W()-1,7);continue;case 47:switch(R()){case 42:case 47:U(mt(me(E(),W()),e,t,d),d),(H(D||1)==5||H(R()||1)==5)&&w(m)&&O(m,-1,void 0)!==" "&&(m+=" ");break;default:m+="/"}break;case 123*u:s[p++]=w(m)*S;case 125*u:case 59:case 0:switch(g){case 0:case 125:M=0;case 59+h:S==-1&&(m=X(m,/\f/g,"")),L>0&&(w(m)-l||u===0&&D===47)&&U(L>32?pe(m+";",i,t,l-1,d):pe(X(m," ","")+";",i,t,l-2,d),d);break;case 59:m+=";";default:if(U(x=fe(m,e,t,p,h,o,s,T,k=[],A=[],l,n),n),g===123)if(h===0)dr(m,e,x,x,k,n,l,s,A);else{switch(y){case 99:if(F(m,3)===110)break;case 108:if(F(m,2)===97)break;default:h=0;case 100:case 109:case 115:}h?dr(r,x,x,i&&U(fe(r,x,x,0,0,o,s,T,o,k=[],l,A),A),o,A,l,s,i?k:A):dr(m,x,x,x,[""],A,0,s,A)}}p=h=L=0,u=S=1,T=m="",l=c;break;case 58:l=1+w(m),L=D;default:if(u<1){if(g==123)--u;else if(g==125&&u++==0&&ne()==125)continue}switch(m+=Y(g),g*u){case 38:S=h>0?1:(m+="\f",-1);break;case 44:s[p++]=(w(m)-1)*S,S=1;break;case 64:R()===45&&(m+=sr(E())),y=R(),h=l=w(T=m+=ue(W())),g++;break;case 45:D===45&&w(m)==2&&(u=0)}}return n}function fe(r,e,t,i,o,n,c,s,d,p,h,l){for(var y=o-1,L=o===0?n:[""],D=ae(L),u=0,M=0,S=0;u<i;++u)for(var g=0,T=O(r,y+1,y=xr(M=c[u])),k=r;g<D;++g)(k=ar(M>0?L[g]+" "+T:X(T,/&\f/g,L[g])))&&(d[S++]=k);return or(r,e,t,o===0?er:s,d,p,h,l)}function mt(r,e,t,i){return or(r,e,t,rr,Y(oe()),O(r,2,-2),0,i)}function pe(r,e,t,i,o){return or(r,e,t,tr,O(r,0,i),O(r,i+1,-1),i,o)}function cr(r,e){for(var t="",i=0;i<r.length;i++)t+=e(r[i],i,r,e)||"";return t}function ve(r,e,t,i){switch(r.type){case ee:if(r.children.length)break;case Zr:case Jr:case tr:return r.return=r.return||r.value;case rr:return"";case re:return r.return=r.value+"{"+cr(r.children,i)+"}";case er:if(!w(r.value=r.props.join(",")))return""}return w(t=cr(r.children,i))?r.return=r.value+"{"+t+"}":""}var be="c4",ut=a(r=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(r),"detector"),ft=a(async()=>{let{diagram:r}=await import("./chunk-NZ5KUCOW.js");return{id:be,diagram:r}},"loader"),pt={id:be,detector:ut,loader:ft},gt=pt,Ee="flowchart",vt=a((r,e)=>e?.flowchart?.defaultRenderer==="dagre-wrapper"||e?.flowchart?.defaultRenderer==="elk"?!1:/^\s*graph/.test(r),"detector"),ht=a(async()=>{let{diagram:r}=await import("./chunk-IQ36BV4N.js");return{id:Ee,diagram:r}},"loader"),yt={id:Ee,detector:vt,loader:ht},wt=yt,De="flowchart-v2",xt=a((r,e)=>e?.flowchart?.defaultRenderer==="dagre-d3"?!1:(e?.flowchart?.defaultRenderer==="elk"&&(e.layout="elk"),/^\s*graph/.test(r)&&e?.flowchart?.defaultRenderer==="dagre-wrapper"?!0:/^\s*flowchart/.test(r)),"detector"),bt=a(async()=>{let{diagram:r}=await import("./chunk-IQ36BV4N.js");return{id:De,diagram:r}},"loader"),Et={id:De,detector:xt,loader:bt},Dt=Et,Se="er",St=a(r=>/^\s*erDiagram/.test(r),"detector"),Tt=a(async()=>{let{diagram:r}=await import("./chunk-J5BYJMWX.js");return{id:Se,diagram:r}},"loader"),_t={id:Se,detector:St,loader:Tt},Lt=_t,Te="gitGraph",At=a(r=>/^\s*gitGraph/.test(r),"detector"),Mt=a(async()=>{let{diagram:r}=await import("./chunk-ZYOOJF6F.js");return{id:Te,diagram:r}},"loader"),kt={id:Te,detector:At,loader:Mt},Ct=kt,_e="gantt",Rt=a(r=>/^\s*gantt/.test(r),"detector"),It=a(async()=>{let{diagram:r}=await import("./chunk-BAWN5B2Z.js");return{id:_e,diagram:r}},"loader"),Ft={id:_e,detector:Rt,loader:It},Ot=Ft,Le="info",zt=a(r=>/^\s*info/.test(r),"detector"),$t=a(async()=>{let{diagram:r}=await import("./chunk-HZCQAMPB.js");return{id:Le,diagram:r}},"loader"),Pt={id:Le,detector:zt,loader:$t},Ae="pie",Nt=a(r=>/^\s*pie/.test(r),"detector"),Vt=a(async()=>{let{diagram:r}=await import("./chunk-66WTOAPL.js");return{id:Ae,diagram:r}},"loader"),Ut={id:Ae,detector:Nt,loader:Vt},Me="quadrantChart",Gt=a(r=>/^\s*quadrantChart/.test(r),"detector"),Ht=a(async()=>{let{diagram:r}=await import("./chunk-ZLHCXDXN.js");return{id:Me,diagram:r}},"loader"),qt={id:Me,detector:Gt,loader:Ht},Bt=qt,ke="xychart",jt=a(r=>/^\s*xychart(-beta)?/.test(r),"detector"),Yt=a(async()=>{let{diagram:r}=await import("./chunk-4VMHNZON.js");return{id:ke,diagram:r}},"loader"),Xt={id:ke,detector:jt,loader:Yt},Wt=Xt,Ce="requirement",Kt=a(r=>/^\s*requirement(Diagram)?/.test(r),"detector"),Qt=a(async()=>{let{diagram:r}=await import("./chunk-G2JXGG2U.js");return{id:Ce,diagram:r}},"loader"),Zt={id:Ce,detector:Kt,loader:Qt},Jt=Zt,Re="sequence",ra=a(r=>/^\s*sequenceDiagram/.test(r),"detector"),ea=a(async()=>{let{diagram:r}=await import("./chunk-OVRXDVVK.js");return{id:Re,diagram:r}},"loader"),ta={id:Re,detector:ra,loader:ea},aa=ta,Ie="class",ia=a((r,e)=>e?.class?.defaultRenderer==="dagre-wrapper"?!1:/^\s*classDiagram/.test(r),"detector"),oa=a(async()=>{let{diagram:r}=await import("./chunk-EMBF2AJY.js");return{id:Ie,diagram:r}},"loader"),na={id:Ie,detector:ia,loader:oa},sa=na,Fe="classDiagram",da=a((r,e)=>/^\s*classDiagram/.test(r)&&e?.class?.defaultRenderer==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(r),"detector"),ca=a(async()=>{let{diagram:r}=await import("./chunk-7OXH3BN6.js");return{id:Fe,diagram:r}},"loader"),la={id:Fe,detector:da,loader:ca},ma=la,Oe="state",ua=a((r,e)=>e?.state?.defaultRenderer==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(r),"detector"),fa=a(async()=>{let{diagram:r}=await import("./chunk-NV3L3GUW.js");return{id:Oe,diagram:r}},"loader"),pa={id:Oe,detector:ua,loader:fa},ga=pa,ze="stateDiagram",va=a((r,e)=>!!(/^\s*stateDiagram-v2/.test(r)||/^\s*stateDiagram/.test(r)&&e?.state?.defaultRenderer==="dagre-wrapper"),"detector"),ha=a(async()=>{let{diagram:r}=await import("./chunk-U73N2ZNO.js");return{id:ze,diagram:r}},"loader"),ya={id:ze,detector:va,loader:ha},wa=ya,$e="journey",xa=a(r=>/^\s*journey/.test(r),"detector"),ba=a(async()=>{let{diagram:r}=await import("./chunk-IOK3XCKA.js");return{id:$e,diagram:r}},"loader"),Ea={id:$e,detector:xa,loader:ba},Da=Ea,Sa=a((r,e,t)=>{f.debug(`rendering svg for syntax error
`);let i=Gr(e),o=i.append("g");i.attr("viewBox","0 0 2412 512"),Vr(i,100,512,!0),o.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),o.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),o.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),o.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),o.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),o.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),o.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),o.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${t}`)},"draw"),Pe={draw:Sa},Ta=Pe,_a={db:{},renderer:Pe,parser:{parse:a(()=>{},"parse")}},La=_a,Ne="flowchart-elk",Aa=a((r,e={})=>/^\s*flowchart-elk/.test(r)||/^\s*(flowchart|graph)/.test(r)&&e?.flowchart?.defaultRenderer==="elk"?(e.layout="elk",!0):!1,"detector"),Ma=a(async()=>{let{diagram:r}=await import("./chunk-IQ36BV4N.js");return{id:Ne,diagram:r}},"loader"),ka={id:Ne,detector:Aa,loader:Ma},Ca=ka,Ve="timeline",Ra=a(r=>/^\s*timeline/.test(r),"detector"),Ia=a(async()=>{let{diagram:r}=await import("./chunk-LQMNMG5T.js");return{id:Ve,diagram:r}},"loader"),Fa={id:Ve,detector:Ra,loader:Ia},Oa=Fa,Ue="mindmap",za=a(r=>/^\s*mindmap/.test(r),"detector"),$a=a(async()=>{let{diagram:r}=await import("./chunk-MN7QK3FY.js");return{id:Ue,diagram:r}},"loader"),Pa={id:Ue,detector:za,loader:$a},Na=Pa,Ge="kanban",Va=a(r=>/^\s*kanban/.test(r),"detector"),Ua=a(async()=>{let{diagram:r}=await import("./chunk-MN6AM4X6.js");return{id:Ge,diagram:r}},"loader"),Ga={id:Ge,detector:Va,loader:Ua},Ha=Ga,He="sankey",qa=a(r=>/^\s*sankey(-beta)?/.test(r),"detector"),Ba=a(async()=>{let{diagram:r}=await import("./chunk-3GZO2QWH.js");return{id:He,diagram:r}},"loader"),ja={id:He,detector:qa,loader:Ba},Ya=ja,qe="packet",Xa=a(r=>/^\s*packet(-beta)?/.test(r),"detector"),Wa=a(async()=>{let{diagram:r}=await import("./chunk-6FBCDRPH.js");return{id:qe,diagram:r}},"loader"),Ka={id:qe,detector:Xa,loader:Wa},Be="radar",Qa=a(r=>/^\s*radar-beta/.test(r),"detector"),Za=a(async()=>{let{diagram:r}=await import("./chunk-D2HYC4FT.js");return{id:Be,diagram:r}},"loader"),Ja={id:Be,detector:Qa,loader:Za},je="block",ri=a(r=>/^\s*block(-beta)?/.test(r),"detector"),ei=a(async()=>{let{diagram:r}=await import("./chunk-WIZNZLAL.js");return{id:je,diagram:r}},"loader"),ti={id:je,detector:ri,loader:ei},ai=ti,Ye="architecture",ii=a(r=>/^\s*architecture/.test(r),"detector"),oi=a(async()=>{let{diagram:r}=await import("./chunk-K7YHUAFM.js");return{id:Ye,diagram:r}},"loader"),ni={id:Ye,detector:ii,loader:oi},si=ni,Xe="treemap",di=a(r=>/^\s*treemap/.test(r),"detector"),ci=a(async()=>{let{diagram:r}=await import("./chunk-ODSY3NHC.js");return{id:Xe,diagram:r}},"loader"),li={id:Xe,detector:di,loader:ci},he=!1,mr=a(()=>{he||(he=!0,j("error",La,r=>r.toLowerCase().trim()==="error"),j("---",{db:{clear:a(()=>{},"clear")},styles:{},renderer:{draw:a(()=>{},"draw")},parser:{parse:a(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:a(()=>null,"init")},r=>r.toLowerCase().trimStart().startsWith("---")),Q(Ca,Na,si),Q(gt,Ha,ma,sa,Lt,Ot,Pt,Ut,Jt,aa,Dt,wt,Oa,Ct,wa,ga,Da,Bt,Ya,Ka,Wt,ai,Ja,li))},"addDiagrams"),mi=a(async()=>{f.debug("Loading registered diagrams");let e=(await Promise.allSettled(Object.entries(K).map(async([t,{detector:i,loader:o}])=>{if(o)try{J(t)}catch{try{let{diagram:n,id:c}=await o();j(c,n,i)}catch(n){throw f.error(`Failed to load external diagram with key ${t}. Removing from detectors.`),delete K[t],n}}}))).filter(t=>t.status==="rejected");if(e.length>0){f.error(`Failed to load ${e.length} external diagrams`);for(let t of e)f.error(t);throw new Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams"),ui="graphics-document document";function We(r,e){r.attr("role",ui),e!==""&&r.attr("aria-roledescription",e)}a(We,"setA11yDiagramInfo");function Ke(r,e,t,i){if(r.insert!==void 0){if(t){let o=`chart-desc-${i}`;r.attr("aria-describedby",o),r.insert("desc",":first-child").attr("id",o).text(t)}if(e){let o=`chart-title-${i}`;r.attr("aria-labelledby",o),r.insert("title",":first-child").attr("id",o).text(e)}}}a(Ke,"addSVGa11yTitleDescription");var $,Dr=($=class{constructor(e,t,i,o,n){this.type=e,this.text=t,this.db=i,this.parser=o,this.renderer=n}static async fromText(e,t={}){let i=N(),o=gr(e,i);e=Yr(e)+`
`;try{J(o)}catch{let p=Rr(o);if(!p)throw new Cr(`Diagram ${o} not found.`);let{id:h,diagram:l}=await p();j(h,l)}let{db:n,parser:c,renderer:s,init:d}=J(o);return c.parser&&(c.parser.yy=n),n.clear?.(),d?.(i),t.title&&n.setDiagramTitle?.(t.title),await c.parse(e),new $(o,e,n,c,s)}async render(e,t){await this.renderer.draw(this.text,e,t,this)}getParser(){return this.parser}getType(){return this.type}},a($,"Diagram"),$),ye=[],fi=a(()=>{ye.forEach(r=>{r()}),ye=[]},"attachFunctions"),pi=a(r=>r.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function Qe(r){let e=r.match(kr);if(!e)return{text:r,metadata:{}};let t=qr(e[1],{schema:Hr})??{};t=typeof t=="object"&&!Array.isArray(t)?t:{};let i={};return t.displayMode&&(i.displayMode=t.displayMode.toString()),t.title&&(i.title=t.title.toString()),t.config&&(i.config=t.config),{text:r.slice(e[0].length),metadata:i}}a(Qe,"extractFrontMatter");var gi=a(r=>r.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(e,t,i)=>"<"+t+i.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),vi=a(r=>{let{text:e,metadata:t}=Qe(r),{displayMode:i,title:o,config:n={}}=t;return i&&(n.gantt||(n.gantt={}),n.gantt.displayMode=i),{title:o,config:n,text:e}},"processFrontmatter"),hi=a(r=>{let e=V.detectInit(r)??{},t=V.detectDirective(r,"wrap");return Array.isArray(t)?e.wrap=t.some(({type:i})=>i==="wrap"):t?.type==="wrap"&&(e.wrap=!0),{text:Br(r),directive:e}},"processDirectives");function Tr(r){let e=gi(r),t=vi(e),i=hi(t.text),o=jr(t.config,i.directive);return r=pi(i.text),{code:r,title:t.title,config:o}}a(Tr,"preprocessDiagram");function Ze(r){let e=new TextEncoder().encode(r),t=Array.from(e,i=>String.fromCodePoint(i)).join("");return btoa(t)}a(Ze,"toBase64");var yi=5e4,wi="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",xi="sandbox",bi="loose",Ei="http://www.w3.org/2000/svg",Di="http://www.w3.org/1999/xlink",Si="http://www.w3.org/1999/xhtml",Ti="100%",_i="100%",Li="border:0;margin:0;",Ai="margin:0",Mi="allow-top-navigation-by-user-activation allow-popups",ki='The "iframe" tag is not supported by your browser.',Ci=["foreignobject"],Ri=["dominant-baseline"];function _r(r){let e=Tr(r);return B(),Pr(e.config??{}),e}a(_r,"processAndSetConfigs");async function Je(r,e){mr();try{let{code:t,config:i}=_r(r);return{diagramType:(await et(t)).type,config:i}}catch(t){if(e?.suppressErrors)return!1;throw t}}a(Je,"parse");var we=a((r,e,t=[])=>`
.${r} ${e} { ${t.join(" !important; ")} !important; }`,"cssImportantStyles"),Ii=a((r,e=new Map)=>{let t="";if(r.themeCSS!==void 0&&(t+=`
${r.themeCSS}`),r.fontFamily!==void 0&&(t+=`
:root { --mermaid-font-family: ${r.fontFamily}}`),r.altFontFamily!==void 0&&(t+=`
:root { --mermaid-alt-font-family: ${r.altFontFamily}}`),e instanceof Map){let c=r.htmlLabels??r.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];e.forEach(s=>{wr(s.styles)||c.forEach(d=>{t+=we(s.id,d,s.styles)}),wr(s.textStyles)||(t+=we(s.id,"tspan",(s?.textStyles||[]).map(d=>d.replace("color","fill"))))})}return t},"createCssStyles"),Fi=a((r,e,t,i)=>{let o=Ii(r,t),n=Ur(e,o,r.themeVariables);return cr(ge(`${i}{${n}}`),ve)},"createUserStyles"),Oi=a((r="",e,t)=>{let i=r;return!t&&!e&&(i=i.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),i=Xr(i),i=i.replace(/<br>/g,"<br/>"),i},"cleanUpSvgCode"),zi=a((r="",e)=>{let t=e?.viewBox?.baseVal?.height?e.viewBox.baseVal.height+"px":_i,i=Ze(`<body style="${Ai}">${r}</body>`);return`<iframe style="width:${Ti};height:${t};${Li}" src="data:text/html;charset=UTF-8;base64,${i}" sandbox="${Mi}">
  ${ki}
</iframe>`},"putIntoIFrame"),xe=a((r,e,t,i,o)=>{let n=r.append("div");n.attr("id",t),i&&n.attr("style",i);let c=n.append("svg").attr("id",e).attr("width","100%").attr("xmlns",Ei);return o&&c.attr("xmlns:xlink",o),c.append("g"),r},"appendDivSvgG");function Sr(r,e){return r.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}a(Sr,"sandboxedIframe");var $i=a((r,e,t,i)=>{r.getElementById(e)?.remove(),r.getElementById(t)?.remove(),r.getElementById(i)?.remove()},"removeExistingElements"),Pi=a(async function(r,e,t){mr();let i=_r(e);e=i.code;let o=N();f.debug(o),e.length>(o?.maxTextSize??yi)&&(e=wi);let n="#"+r,c="i"+r,s="#"+c,d="d"+r,p="#"+d,h=a(()=>{let ur=C(y?s:p).node();ur&&"remove"in ur&&ur.remove()},"removeTempElements"),l=C("body"),y=o.securityLevel===xi,L=o.securityLevel===bi,D=o.fontFamily;if(t!==void 0){if(t&&(t.innerHTML=""),y){let _=Sr(C(t),c);l=C(_.nodes()[0].contentDocument.body),l.node().style.margin=0}else l=C(t);xe(l,r,d,`font-family: ${D}`,Di)}else{if($i(document,r,d,c),y){let _=Sr(C("body"),c);l=C(_.nodes()[0].contentDocument.body),l.node().style.margin=0}else l=C("body");xe(l,r,d)}let u,M;try{u=await Dr.fromText(e,{title:i.title})}catch(_){if(o.suppressErrorRendering)throw h(),_;u=await Dr.fromText("error"),M=_}let S=l.select(p).node(),g=u.type,T=S.firstChild,k=T.firstChild,A=u.renderer.getClasses?.(e,u),x=Fi(o,g,A,n),m=document.createElement("style");m.innerHTML=x,T.insertBefore(m,k);try{await u.renderer.draw(e,r,fr.version,u)}catch(_){throw o.suppressErrorRendering?h():Ta.draw(e,r,fr.version),_}let dt=l.select(`${p} svg`),ct=u.db.getAccTitle?.(),lt=u.db.getAccDescription?.();tt(g,dt,ct,lt),l.select(`[id="${r}"]`).selectAll("foreignobject > *").attr("xmlns",Si);let z=l.select(p).node().innerHTML;if(f.debug("config.arrowMarkerAbsolute",o.arrowMarkerAbsolute),z=Oi(z,y,Nr(o.arrowMarkerAbsolute)),y){let _=l.select(p+" svg").node();z=zi(z,_)}else L||(z=Mr.sanitize(z,{ADD_TAGS:Ci,ADD_ATTR:Ri,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(fi(),M)throw M;return h(),{diagramType:g,svg:z,bindFunctions:u.db.bindFunctions}},"render");function rt(r={}){let e=Ir({},r);e?.fontFamily&&!e.themeVariables?.fontFamily&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),Or(e),e?.theme&&e.theme in Z?e.themeVariables=Z[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=Z.default.getThemeVariables(e.themeVariables));let t=typeof e=="object"?Fr(e):hr();pr(t.logLevel),mr()}a(rt,"initialize");var et=a((r,e={})=>{let{code:t}=Tr(r);return Dr.fromText(t,e)},"getDiagramFromText");function tt(r,e,t,i){We(e,r),Ke(e,t,i,e.attr("id"))}a(tt,"addA11yInfo");var P=Object.freeze({render:Pi,parse:Je,getDiagramFromText:et,initialize:rt,getConfig:N,setConfig:$r,getSiteConfig:hr,updateSiteConfig:zr,reset:a(()=>{B()},"reset"),globalReset:a(()=>{B(vr)},"globalReset"),defaultConfig:vr});pr(N().logLevel);B(N());var Ni=a((r,e,t)=>{f.warn(r),yr(r)?(t&&t(r.str,r.hash),e.push(Ar(Lr({},r),{message:r.str,error:r}))):(t&&t(r),r instanceof Error&&e.push({str:r.message,message:r.message,hash:r.name,error:r}))},"handleError"),at=a(async function(r={querySelector:".mermaid"}){try{await Vi(r)}catch(e){if(yr(e)&&f.error(e.str),I.parseError&&I.parseError(e),!r.suppressErrors)throw f.error("Use the suppressErrors option to suppress these errors"),e}},"run"),Vi=a(async function({postRenderCallback:r,querySelector:e,nodes:t}={querySelector:".mermaid"}){let i=P.getConfig();f.debug(`${r?"":"No "}Callback function found`);let o;if(t)o=t;else if(e)o=document.querySelectorAll(e);else throw new Error("Nodes and querySelector are both undefined");f.debug(`Found ${o.length} diagrams`),i?.startOnLoad!==void 0&&(f.debug("Start On Load: "+i?.startOnLoad),P.updateSiteConfig({startOnLoad:i?.startOnLoad}));let n=new V.InitIDGenerator(i.deterministicIds,i.deterministicIDSeed),c,s=[];for(let d of Array.from(o)){if(f.info("Rendering diagram: "+d.id),d.getAttribute("data-processed"))continue;d.setAttribute("data-processed","true");let p=`mermaid-${n.next()}`;c=d.innerHTML,c=Wr(V.entityDecode(c)).trim().replace(/<br\s*\/?>/gi,"<br/>");let h=V.detectInit(c);h&&f.debug("Detected early reinit: ",h);try{let{svg:l,bindFunctions:y}=await st(p,c,d);d.innerHTML=l,r&&await r(p),y&&y(d)}catch(l){Ni(l,s,I.parseError)}}if(s.length>0)throw s[0]},"runThrowsErrors"),it=a(function(r){P.initialize(r)},"initialize"),Ui=a(async function(r,e,t){f.warn("mermaid.init is deprecated. Please use run instead."),r&&it(r);let i={postRenderCallback:t,querySelector:".mermaid"};typeof e=="string"?i.querySelector=e:e&&(e instanceof HTMLElement?i.nodes=[e]:i.nodes=e),await at(i)},"init"),Gi=a(async(r,{lazyLoad:e=!0}={})=>{mr(),Q(...r),e===!1&&await mi()},"registerExternalDiagrams"),ot=a(function(){if(I.startOnLoad){let{startOnLoad:r}=P.getConfig();r&&I.run().catch(e=>f.error("Mermaid failed to initialize",e))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",ot,!1);var Hi=a(function(r){I.parseError=r},"setParseErrorHandler"),lr=[],Er=!1,nt=a(async()=>{if(!Er){for(Er=!0;lr.length>0;){let r=lr.shift();if(r)try{await r()}catch(e){f.error("Error executing queue",e)}}Er=!1}},"executeQueue"),qi=a(async(r,e)=>new Promise((t,i)=>{let o=a(()=>new Promise((n,c)=>{P.parse(r,e).then(s=>{n(s),t(s)},s=>{f.error("Error parsing",s),I.parseError?.(s),c(s),i(s)})}),"performCall");lr.push(o),nt().catch(i)}),"parse"),st=a((r,e,t)=>new Promise((i,o)=>{let n=a(()=>new Promise((c,s)=>{P.render(r,e,t).then(d=>{c(d),i(d)},d=>{f.error("Error parsing",d),I.parseError?.(d),s(d),o(d)})}),"performCall");lr.push(n),nt().catch(o)}),"render"),Bi=a(()=>Object.keys(K).map(r=>({id:r})),"getRegisteredDiagramsMetadata"),I={startOnLoad:!0,mermaidAPI:P,parse:qi,render:st,init:Ui,run:at,registerExternalDiagrams:Gi,registerLayoutLoaders:Qr,initialize:it,parseError:void 0,contentLoaded:ot,setParseErrorHandler:Hi,detectType:gr,registerIconPacks:Kr,getRegisteredDiagramsMetadata:Bi},Do=I;export{Do as default};
