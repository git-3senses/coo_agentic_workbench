<div class="max-w-4xl mx-auto space-y-6">
  <div class="bg-white rounded-xl border border-slate-200 shadow-sm">
    <div class="px-6 py-4 border-b border-slate-100 flex items-center gap-3">
      <div class="p-2 rounded-lg bg-cyan-50 text-cyan-600">
        <lucide-icon name="git-branch" class="w-5 h-5"></lucide-icon>
      </div>
      <h2 class="text-base font-semibold text-slate-900">Approval Workflow</h2>
    </div>
    <div class="p-6">
      <!-- Vertical timeline -->
      <div class="relative">
        <div class="absolute left-5 top-0 bottom-0 w-0.5 bg-slate-200"></div>
        <div class="space-y-0">
          <div *ngFor="let stage of stages; let last = last"
            class="relative pl-14 pb-8"
            [class.pb-0]="last">
            <!-- Dot -->
            <div class="absolute left-3 w-5 h-5 rounded-full border-2 flex items-center justify-center bg-white z-10"
              [ngClass]="{
                'border-emerald-500': stage.status === 'completed',
                'border-blue-500': stage.status === 'active',
                'border-slate-300': stage.status === 'pending',
                'border-red-400': stage.status === 'blocked'
              }">
              <lucide-icon [name]="getWorkflowIcon(stage.status)"
                class="w-3 h-3" [ngClass]="getWorkflowColor(stage.status)"></lucide-icon>
            </div>
            <!-- Content -->
            <div class="rounded-lg border p-4 transition-all"
              [ngClass]="{
                'border-emerald-200 bg-emerald-50/30': stage.status === 'completed',
                'border-blue-200 bg-blue-50/30 shadow-sm shadow-blue-100': stage.status === 'active',
                'border-slate-100 bg-white': stage.status === 'pending',
                'border-red-200 bg-red-50/20': stage.status === 'blocked'
              }">
              <div class="flex items-center justify-between">
                <h3 class="text-sm font-semibold text-slate-900">{{ stage.label }}</h3>
                <span class="text-[11px] font-bold px-2 py-0.5 rounded-full capitalize"
                  [ngClass]="{
                    'bg-emerald-100 text-emerald-700': stage.status === 'completed',
                    'bg-blue-100 text-blue-700': stage.status === 'active',
                    'bg-slate-100 text-slate-500': stage.status === 'pending',
                    'bg-red-100 text-red-600': stage.status === 'blocked'
                  }">{{ stage.status }}</span>
              </div>
              <div class="flex items-center gap-3 mt-1.5 text-xs text-slate-500">
                <span *ngIf="stage.assignee" class="flex items-center gap-1">
                  <lucide-icon name="user" class="w-3 h-3"></lucide-icon>
                  {{ stage.assignee }}
                </span>
                <span *ngIf="stage.date" class="flex items-center gap-1">
                  <lucide-icon name="calendar" class="w-3 h-3"></lucide-icon>
                  {{ stage.date }}
                </span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
